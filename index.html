<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>ê³„ì‹œë¡ ì¸ë§ê¸° + ìŒì›ì¬ìƒ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Malgun Gothic', 'ë§‘ì€ ê³ ë”•', sans-serif;
            background: linear-gradient(135deg, #5B9BD5 0%, #4A90E2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 30px;
        }
        
        @media (max-width: 768px) {
            .container {
                border-radius: 15px;
                padding: 20px;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                border-radius: 10px;
                padding: 15px;
            }
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #5B9BD5;
        }
        
        h1 {
            color: #5B9BD5;
            font-size: 2.2em;
            margin-bottom: 10px;
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: 1.5em;
            }
        }
        
        .subtitle {
            color: #666;
            font-size: 1.1em;
        }
        
        @media (max-width: 768px) {
            .subtitle {
                font-size: 1em;
            }
        }
        
        @media (max-width: 480px) {
            .subtitle {
                font-size: 0.9em;
            }
        }
        
        /* ì˜¤ë””ì˜¤ í”Œë ˆì´ì–´ ìŠ¤íƒ€ì¼ */
        .audio-player {
            background: white;
            border: 3px solid #5B9BD5;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 5px 20px rgba(91, 155, 213, 0.15);
        }
        
        @media (max-width: 768px) {
            .audio-player {
                padding: 20px;
                border-width: 2px;
            }
        }
        
        @media (max-width: 480px) {
            .audio-player {
                padding: 15px;
                border-radius: 10px;
            }
        }
        
        .audio-player h2 {
            color: #5B9BD5;
            font-size: 1.5em;
            margin-bottom: 20px;
            text-align: center;
            font-weight: bold;
        }
        
        .audio-setup {
            background: #f8f9ff;
            border: 2px dashed #5B9BD5;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .audio-setup h3 {
            margin: 0 0 15px 0;
        }
        
        @media (max-width: 768px) {
            .audio-setup {
                padding: 15px;
            }
            
            .audio-setup h3 {
                font-size: 1.1em;
            }
        }
        
        @media (max-width: 480px) {
            .audio-setup {
                padding: 12px;
            }
            
            .audio-setup h3 {
                font-size: 1em;
            }
            
            .audio-setup label {
                font-size: 0.9em;
            }
            
            .audio-setup input,
            .audio-setup button {
                font-size: 0.9em;
            }
        }
        
        .audio-info {
            background: white;
            border: 2px solid #5B9BD5;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .audio-info .current-chapter {
            color: #5B9BD5;
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .audio-info .current-title {
            color: #666;
            font-size: 1em;
        }
        
        @media (max-width: 768px) {
            .audio-info {
                padding: 12px;
            }
            
            .audio-info .current-chapter {
                font-size: 1.2em;
            }
            
            .audio-info .current-title {
                font-size: 0.9em;
            }
        }
        
        @media (max-width: 480px) {
            .audio-info {
                padding: 10px;
            }
            
            .audio-info .current-chapter {
                font-size: 1.1em;
            }
            
            .audio-info .current-title {
                font-size: 0.85em;
            }
        }
        
        .audio-controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }
        
        .audio-controls button {
            flex: 1;
            min-width: 120px;
            padding: 12px 20px;
            border: 2px solid #5B9BD5;
            background: white;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            color: #5B9BD5;
        }
        
        .audio-controls button:hover {
            background: #EBF4FA;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(91, 155, 213, 0.2);
        }
        
        .audio-controls button:active {
            transform: translateY(0);
        }
        
        .audio-controls button.playing {
            background: #5B9BD5;
            color: white;
        }
        
        .audio-controls button.repeat-on {
            background: #5B9BD5;
            color: white;
        }
        
        @media (max-width: 768px) {
            .audio-controls button {
                min-width: 100px;
                padding: 10px 15px;
                font-size: 0.9em;
            }
        }
        
        @media (max-width: 480px) {
            .audio-controls button {
                min-width: calc(50% - 5px);
                padding: 10px;
                font-size: 0.85em;
            }
        }
        
        .progress-container {
            background: white;
            border: 2px solid #5B9BD5;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
        }
        
        .time-display {
            display: flex;
            justify-content: space-between;
            color: #5B9BD5;
            font-size: 0.9em;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        @media (max-width: 768px) {
            .progress-container {
                padding: 12px;
            }
            
            .time-display {
                font-size: 0.85em;
            }
        }
        
        @media (max-width: 480px) {
            .progress-container {
                padding: 10px;
            }
            
            .time-display {
                font-size: 0.8em;
            }
        }
        
        .progress-slider {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #EBF4FA;
            outline: none;
            -webkit-appearance: none;
            margin-bottom: 10px;
        }
        
        .progress-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #5B9BD5;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(91, 155, 213, 0.3);
        }
        
        .progress-slider::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #5B9BD5;
            cursor: pointer;
            border: none;
        }
        
        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .volume-control label {
            color: #5B9BD5;
            font-weight: 600;
        }
        
        .volume-slider {
            flex: 1;
            height: 6px;
            border-radius: 3px;
            background: #EBF4FA;
            outline: none;
            -webkit-appearance: none;
        }
        
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: #5B9BD5;
            cursor: pointer;
        }
        
        .volume-slider::-moz-range-thumb {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: #5B9BD5;
            cursor: pointer;
            border: none;
        }
        
        .playlist {
            background: white;
            border: 2px solid #5B9BD5;
            border-radius: 10px;
            padding: 15px;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .playlist h3 {
            color: #5B9BD5;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        
        .playlist-item {
            background: white;
            border: 1px solid #5B9BD5;
            padding: 10px 15px;
            margin-bottom: 8px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            color: #333;
        }
        
        .playlist-item:hover {
            background: #EBF4FA;
            border-color: #4A90E2;
            transform: translateX(5px);
        }
        
        .playlist-item.active {
            background: #5B9BD5;
            color: white;
            font-weight: bold;
            border-color: #5B9BD5;
        }
        
        @media (max-width: 768px) {
            .playlist {
                max-height: 250px;
                padding: 12px;
            }
            
            .playlist h3 {
                font-size: 1em;
            }
            
            .playlist-item {
                padding: 8px 12px;
                font-size: 0.9em;
            }
        }
        
        @media (max-width: 480px) {
            .playlist {
                max-height: 200px;
                padding: 10px;
            }
            
            .playlist h3 {
                font-size: 0.95em;
            }
            
            .playlist-item {
                padding: 8px 10px;
                font-size: 0.85em;
            }
        }
        
        /* ê¸°ì¡´ ìŠ¤íƒ€ì¼ ìœ ì§€ */
        .controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 25px;
            padding: 20px;
            background: #EBF4FA;
            border-radius: 12px;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }
        
        .btn-primary {
            background: #5B9BD5;
            color: white;
        }
        
        .btn-primary:hover {
            background: #4A90E2;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(91,155,213,0.4);
        }
        
        .btn-secondary {
            background: #48bb78;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #38a169;
            transform: translateY(-2px);
        }
        
        .btn-danger {
            background: #f56565;
            color: white;
        }
        
        .btn-danger:hover {
            background: #e53e3e;
            transform: translateY(-2px);
        }
        
        @media (max-width: 768px) {
            .btn {
                padding: 10px 18px;
                font-size: 0.95em;
            }
        }
        
        @media (max-width: 480px) {
            .btn {
                padding: 9px 15px;
                font-size: 0.85em;
                flex: 1 1 calc(50% - 5px);
                min-width: calc(50% - 5px);
            }
        }
        
        .chapter-selector {
            width: 100%;
            padding: 12px;
            font-size: 1em;
            border: 2px solid #5B9BD5;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        @media (max-width: 768px) {
            .chapter-selector {
                padding: 10px;
                font-size: 0.95em;
            }
        }
        
        @media (max-width: 480px) {
            .chapter-selector {
                padding: 9px;
                font-size: 0.9em;
            }
        }
        
        .chapter-title-container {
            background: linear-gradient(135deg, #5B9BD5 0%, #4A90E2 100%);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 25px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(91,155,213,0.3);
        }
        
        .chapter-title {
            color: white;
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .chapter-title.hidden {
            color: transparent;
            text-shadow: 0 0 15px rgba(255,255,255,0.5);
            user-select: none;
        }
        
        .chapter-title:hover {
            transform: scale(1.02);
        }
        
        .title-memorized {
            display: inline-block;
            margin-top: 10px;
            padding: 8px 16px;
            background: rgba(255,255,255,0.2);
            border-radius: 20px;
            color: white;
            font-size: 0.9em;
        }
        
        .title-memorized input[type="checkbox"] {
            margin-right: 5px;
            width: 16px;
            height: 16px;
            cursor: pointer;
        }
        
        @media (max-width: 768px) {
            .chapter-title-container {
                padding: 15px;
            }
            
            .chapter-title {
                font-size: 1.2em;
            }
            
            .title-memorized {
                font-size: 0.85em;
            }
        }
        
        @media (max-width: 480px) {
            .chapter-title-container {
                padding: 12px;
                margin-bottom: 20px;
            }
            
            .chapter-title {
                font-size: 1.1em;
            }
            
            .title-memorized {
                font-size: 0.8em;
                padding: 6px 12px;
            }
            
            .title-memorized input[type="checkbox"] {
                width: 14px;
                height: 14px;
            }
        }
        
        .verse-container {
            background: #ffffff;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.3s;
        }
        
        .verse-container:hover {
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-color: #5B9BD5;
        }
        
        .verse-container.memorized {
            background: #f0fff4;
            border-color: #48bb78;
        }
        
        .verse-container.key-verse {
            background: #fef9c3;
            border-color: #facc15;
            border-width: 2px;
        }
        
        .verse-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .verse-number {
            font-weight: bold;
            color: #5B9BD5;
            font-size: 1.2em;
        }
        
        .memorize-check {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }
        
        .memorize-check input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }
        
        .verse-text {
            line-height: 2;
            font-size: 1.15em;
        }
        
        @media (max-width: 768px) {
            .verse-container {
                padding: 15px;
            }
            
            .verse-text {
                font-size: 1.1em;
                line-height: 1.9;
            }
        }
        
        @media (max-width: 480px) {
            .verse-container {
                padding: 12px;
                margin-bottom: 12px;
            }
            
            .verse-header {
                margin-bottom: 12px;
            }
            
            .verse-number {
                font-size: 1.1em;
            }
            
            .verse-text {
                font-size: 1.05em;
                line-height: 1.8;
            }
            
            .memorize-check {
                font-size: 0.9em;
            }
        }
        
        .word {
            cursor: pointer;
            padding: 2px 4px;
            border-radius: 4px;
            transition: all 0.2s;
            display: inline-block;
        }
        
        .word:hover {
            background: #edf2f7;
        }
        
        .word.hidden {
            background: #5B9BD5;
            color: #5B9BD5;
            user-select: none;
            min-width: 40px;
            display: inline-block;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 25px;
            padding: 20px;
            background: #f8f9ff;
            border-radius: 12px;
        }
        
        .stat-item {
            text-align: center;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #5B9BD5;
        }
        
        .stat-label {
            color: #666;
            margin-top: 5px;
        }
        
        @media (max-width: 768px) {
            .stats {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                gap: 12px;
                padding: 15px;
            }
            
            .stat-item {
                padding: 12px;
            }
            
            .stat-value {
                font-size: 1.8em;
            }
            
            .stat-label {
                font-size: 0.9em;
            }
        }
        
        @media (max-width: 480px) {
            .stats {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
                padding: 12px;
            }
            
            .stat-item {
                padding: 10px;
            }
            
            .stat-value {
                font-size: 1.6em;
            }
            
            .stat-label {
                font-size: 0.85em;
            }
        }
        
        .progress-bar {
            width: 100%;
            height: 30px;
            background: #e2e8f0;
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #48bb78, #38a169);
            transition: width 0.5s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .legend {
            background: #f8f9ff;
            border: 2px solid #5B9BD5;
            border-radius: 12px;
            padding: 15px 20px;
            margin-bottom: 20px;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .legend-title {
            font-weight: bold;
            color: #5B9BD5;
            margin-right: 10px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .legend-box {
            width: 30px;
            height: 20px;
            border-radius: 4px;
            border: 2px solid;
        }
        
        .legend-box.normal {
            background: white;
            border-color: #e2e8f0;
        }
        
        .legend-box.key {
            background: #fef9c3;
            border-color: #facc15;
        }
        
        .legend-box.memorized {
            background: #f0fff4;
            border-color: #48bb78;
        }
        
        @media (max-width: 768px) {
            .legend {
                padding: 12px 15px;
                gap: 15px;
            }
            
            .legend-title {
                font-size: 0.95em;
            }
            
            .legend-item {
                font-size: 0.9em;
            }
        }
        
        @media (max-width: 480px) {
            .legend {
                padding: 10px 12px;
                gap: 10px;
            }
            
            .legend-title {
                font-size: 0.9em;
                width: 100%;
                margin-bottom: 5px;
            }
            
            .legend-item {
                font-size: 0.85em;
                gap: 6px;
            }
            
            .legend-box {
                width: 25px;
                height: 18px;
            }
        }
        
        /* ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ */
        .playlist::-webkit-scrollbar {
            width: 8px;
        }
        
        .playlist::-webkit-scrollbar-track {
            background: #EBF4FA;
            border-radius: 4px;
        }
        
        .playlist::-webkit-scrollbar-thumb {
            background: #5B9BD5;
            border-radius: 4px;
        }
        
        .playlist::-webkit-scrollbar-thumb:hover {
            background: #4A90E2;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“– ìš”í•œê³„ì‹œë¡</h1>
        </div>
        
        <!-- ì˜¤ë””ì˜¤ í”Œë ˆì´ì–´ -->
        <div class="audio-player">
            <!-- ìŒì› ì„¤ì • ì˜ì—­ -->
            <div class="audio-setup" id="audioSetup" style="display: none;">
                <h3 style="color: #5B9BD5; margin-bottom: 15px; text-align: center;">ğŸµ ìŒì› ì„¤ì •</h3>
                
                <!-- í˜„ì¬ ì„¤ì • ìƒíƒœ -->
                <div style="background: #e8f5e9; border: 2px solid #48bb78; border-radius: 8px; padding: 12px; margin-bottom: 15px;">
                    <div style="color: #48bb78; font-weight: 600; margin-bottom: 5px;">âœ“ í˜„ì¬ ì„¤ì •</div>
                    <div style="color: #666; font-size: 0.9em;">
                        ìŒì•… ì—†ëŠ” ìš”í•œê³„ì‹œë¡ <strong>ì „ì²´ 1-22ì¥</strong> ìŒì›ì´ ìë™ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰
                    </div>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 8px; color: #666; font-weight: 600;">
                        ë°©ë²• 1: íŒŒì¼ ì—…ë¡œë“œ (í˜„ì¬ ì¥ ë³€ê²½)
                    </label>
                    <input type="file" id="audioFileInput" accept="audio/*" 
                           style="width: 100%; padding: 10px; border: 2px solid #5B9BD5; border-radius: 8px;">
                </div>
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 8px; color: #666; font-weight: 600;">
                        ë°©ë²• 2: URL ì…ë ¥ (í˜„ì¬ ì¥ ë³€ê²½)
                    </label>
                    <div style="display: flex; gap: 10px;">
                        <input type="text" id="audioUrlInput" placeholder="https://example.com/audio.mp3"
                               style="flex: 1; padding: 10px; border: 2px solid #5B9BD5; border-radius: 8px;">
                        <button onclick="setUrlForCurrentChapter()" 
                                style="padding: 10px 20px; background: #5B9BD5; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">
                            ì„¤ì •
                        </button>
                    </div>
                </div>
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 8px; color: #666; font-weight: 600;">
                        ë°©ë²• 3: ê¸°ë³¸ í´ë” ê²½ë¡œ ë³€ê²½ (ëª¨ë“  ì¥)
                    </label>
                    <div style="display: flex; gap: 10px;">
                        <input type="text" id="basePathInput" placeholder="/audio ë˜ëŠ” https://example.com/audio"
                               style="flex: 1; padding: 10px; border: 2px solid #5B9BD5; border-radius: 8px;">
                        <button onclick="setBasePathFromInput()" 
                                style="padding: 10px 20px; background: #5B9BD5; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">
                            ì„¤ì •
                        </button>
                    </div>
                    <small style="color: #999; display: block; margin-top: 5px;">
                        * í´ë” ì•ˆì— revelation_1.mp3 ~ revelation_22.mp3 í˜•ì‹ íŒŒì¼ì´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
                    </small>
                </div>
                <button onclick="toggleAudioSetup()" 
                        style="width: 100%; padding: 10px; background: #48bb78; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">
                    âœ“ ì„¤ì • ì™„ë£Œ
                </button>
            </div>
            
            <div class="audio-info">
                <div class="current-chapter" id="audioChapterDisplay">ê³„ 1ì¥</div>
                <div class="current-title" id="audioTitleDisplay">ë¡œë”© ì¤‘...</div>
            </div>
            
            <div class="audio-controls">
                <button onclick="toggleAudioSetup()" style="background: #f6ad55; color: white; border-color: #f6ad55;">ğŸµ ìŒì›ì„¤ì •</button>
                <button onclick="playAudio()" id="playBtn">â–¶ï¸ ì¬ìƒ</button>
                <button onclick="pauseAudio()" id="pauseBtn">â¸ï¸ ì¼ì‹œì •ì§€</button>
                <button onclick="stopAudio()">â¹ï¸ ì •ì§€</button>
                <button onclick="previousChapter()">â®ï¸ ì´ì „ ì¥</button>
                <button onclick="nextChapter()">â­ï¸ ë‹¤ìŒ ì¥</button>
            </div>
            
            <div class="audio-controls">
                <button onclick="toggleRepeat()" id="repeatBtn">ğŸ” ì „ì²´ë°˜ë³µ</button>
                <button onclick="toggleShuffle()" id="shuffleBtn">ğŸ”€ ëœë¤ì¬ìƒ</button>
                <button onclick="toggleSectionRepeat()" id="sectionRepeatBtn">ğŸ”‚ êµ¬ê°„ë°˜ë³µ</button>
                <button onclick="changeSpeed()" id="speedBtn">âš¡ 1.0x</button>
            </div>
            
            <div class="progress-container">
                <div class="time-display">
                    <span id="currentTime">0:00</span>
                    <span id="duration">0:00</span>
                </div>
                <input type="range" class="progress-slider" id="progressSlider" 
                       min="0" max="100" value="0" step="0.1">
                
                <div class="volume-control">
                    <label>ğŸ”Š ìŒëŸ‰:</label>
                    <input type="range" class="volume-slider" id="volumeSlider" 
                           min="0" max="100" value="70" step="1">
                    <span style="color: #5B9BD5; min-width: 40px; font-weight: 600;" id="volumeDisplay">70%</span>
                </div>
            </div>
            
            <div class="playlist">
                <h3>ğŸ“‹ ì¬ìƒëª©ë¡</h3>
                <div id="playlistContainer"></div>
            </div>
        </div>
        
        <!-- ê¸°ì¡´ ì»¨íŠ¸ë¡¤ -->
        <div class="controls">
            <select class="chapter-selector" id="chapterSelect">
                <option value="1">ê³„ì‹œë¡ 1ì¥</option>
                <option value="2">ê³„ì‹œë¡ 2ì¥</option>
                <option value="3">ê³„ì‹œë¡ 3ì¥</option>
                <option value="4">ê³„ì‹œë¡ 4ì¥</option>
                <option value="5">ê³„ì‹œë¡ 5ì¥</option>
                <option value="6">ê³„ì‹œë¡ 6ì¥</option>
                <option value="7">ê³„ì‹œë¡ 7ì¥</option>
                <option value="8">ê³„ì‹œë¡ 8ì¥</option>
                <option value="9">ê³„ì‹œë¡ 9ì¥</option>
                <option value="10">ê³„ì‹œë¡ 10ì¥</option>
                <option value="11">ê³„ì‹œë¡ 11ì¥</option>
                <option value="12">ê³„ì‹œë¡ 12ì¥</option>
                <option value="13">ê³„ì‹œë¡ 13ì¥</option>
                <option value="14">ê³„ì‹œë¡ 14ì¥</option>
                <option value="15">ê³„ì‹œë¡ 15ì¥</option>
                <option value="16">ê³„ì‹œë¡ 16ì¥</option>
                <option value="17">ê³„ì‹œë¡ 17ì¥</option>
                <option value="18">ê³„ì‹œë¡ 18ì¥</option>
                <option value="19">ê³„ì‹œë¡ 19ì¥</option>
                <option value="20">ê³„ì‹œë¡ 20ì¥</option>
                <option value="21">ê³„ì‹œë¡ 21ì¥</option>
                <option value="22">ê³„ì‹œë¡ 22ì¥</option>
            </select>
            
            <button class="btn btn-primary" onclick="toggleTitleVisibility()">ğŸ“‹ ì œëª© ìˆ¨ê¸°ê¸°/ë³´ì´ê¸°</button>
            <button class="btn btn-primary" onclick="hideRandom()">ğŸ² ëœë¤ ìˆ¨ê¸°ê¸° (30%)</button>
            <button class="btn btn-secondary" onclick="showAll()">ğŸ‘ï¸ ëª¨ë‘ ë³´ì´ê¸°</button>
            <button class="btn btn-danger" onclick="hideAll()">ğŸ™ˆ ëª¨ë‘ ìˆ¨ê¸°ê¸°</button>
            <button class="btn btn-primary" onclick="showOnlyKeyVerses()">â­ ì£¼ìš” ì„±êµ¬ë§Œ</button>
            <button class="btn btn-primary" onclick="showAllVerses()">ğŸ“– ì „ì²´ ë³´ê¸°</button>
            <button class="btn btn-primary" onclick="resetProgress()">ğŸ”„ ì§„ë„ ì´ˆê¸°í™”</button>
        </div>
        
        <div class="progress-bar">
            <div class="progress-fill" id="progressBar">0%</div>
        </div>
        
        <div class="legend">
            <span class="legend-title">ğŸ¨ êµ¬ì ˆ í‘œì‹œ:</span>
            <div class="legend-item">
                <div class="legend-box normal"></div>
                <span>ì¼ë°˜ êµ¬ì ˆ</span>
            </div>
            <div class="legend-item">
                <div class="legend-box key"></div>
                <span>ì£¼ìš” ì„±êµ¬</span>
            </div>
            <div class="legend-item">
                <div class="legend-box memorized"></div>
                <span>ì™¸ìš´ êµ¬ì ˆ</span>
            </div>
        </div>
        
        <div id="versesContainer"></div>
        
        <div class="stats">
            <div class="stat-item">
                <div class="stat-value" id="totalVerses">0</div>
                <div class="stat-label">ì „ì²´ êµ¬ì ˆ</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="keyVersesCount">0</div>
                <div class="stat-label">ì£¼ìš” ì„±êµ¬</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="memorizedVerses">0</div>
                <div class="stat-label">ì™¸ìš´ êµ¬ì ˆ</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="memorizedTitles">0</div>
                <div class="stat-label">ì™¸ìš´ ì œëª©</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="hiddenWords">0</div>
                <div class="stat-label">ìˆ¨ê¸´ ë‹¨ì–´</div>
            </div>
        </div>
    </div>
    
    <!-- ìˆ¨ê²¨ì§„ ì˜¤ë””ì˜¤ ì—˜ë¦¬ë¨¼íŠ¸ -->
    <audio id="audioPlayer" preload="metadata"></audio>
    
    <script>
        // ê³„ì‹œë¡ 1-22ì¥ ì œëª©
        const chapterTitles = {
            1: "ê³„ì‹œë¡ ì „ì¥ì˜ ìš”ì•½ê³¼ ê²°ë¡  / ê³„ì‹œë¡ ì‚¬ê±´ì˜ ì‹œì‘ê³¼ ì¼ê³± ë³„ê³¼ ì¼ê³± ê¸ˆ ì´›ëŒ€ì˜ ë¹„ë°€",
            2: "ì¼ê³± êµíšŒ ì‚¬ìì—ê²Œ ë³´ë‚¸ í¸ì§€",
            3: "ì¼ê³± êµíšŒ ì‚¬ìì—ê²Œ ë³´ë‚¸ í¸ì§€",
            4: "ì˜ê³„ í•˜ë‚˜ë‹˜ì˜ ë³´ì¢Œì™€ ê³„ì—´",
            5: "ì¼ê³± ì¸ìœ¼ë¡œ ë´‰í•œ ì±…",
            6: "ë°°ë„í•œ ì„ ì²œ í•´Â·ë‹¬Â·ë³„ì— ëŒ€í•œ ì‹¬íŒ",
            7: "ìƒˆ ì°½ì¡° ëœ ì˜ì  ìƒˆ ì´ìŠ¤ë¼ì—˜ ì—´ë‘ ì§€íŒŒ",
            8: "ë§ˆì§€ë§‰ ì¸ê³¼ ì¼ê³± ë‚˜íŒ”",
            9: "ë¬´ì €ê°±ì˜ í™©ì¶©ê³¼ ë²”ì£„í•œ ì²œì‚¬",
            10: "í•˜ëŠ˜ì—ì„œ ì˜¨ ê³„ì‹œ ì±…ê³¼ ì•½ì†ì˜ ëª©ì",
            11: "ë‘ ì¦ì¸ê³¼ ì¼ê³±ì§¸ ë‚˜íŒ”",
            12: "ìš©ê³¼ í•˜ë‚˜ë‹˜ê³¼ì˜ ì „ìŸ",
            13: "ì§ìŠ¹ì—ê²Œ í‘œ ë°›ê³  ë°°ë„í•œ ì„ ë¯¼",
            14: "ì²˜ìŒ ìµì€ ì—´ë§¤ ì‹œì˜¨ì‚° ì‹­ì‚¬ë§Œ ì‚¬ì²œ",
            15: "ë§Œêµ­ì´ ì™€ì„œ ê²½ë°°í•  ì¦ê±°ì¥ë§‰ ì„±ì „",
            16: "ì§„ë…¸ì˜ ì¼ê³± ëŒ€ì ‘",
            17: "ë§ˆê·€ì˜ ì–‘ì‹ ìŒí–‰ì˜ í¬ë„ì£¼",
            18: "ë§Œêµ­ì„ ë¬´ë„ˆëœ¨ë¦° ì‚¬ë‹¨ê³¼ì˜ ê²°í˜¼",
            19: "ì˜ìœ¡ ì–´ë¦°ì–‘ì˜ í˜¼ì¸ ì”ì¹˜",
            20: "ìˆœêµì˜ ì˜ê³¼ ì‚° ìì˜ ì²«ì§¸ ë¶€í™œ",
            21: "ì•½ì†í•œ ìƒˆ í•˜ëŠ˜ ìƒˆ ë•… ì‹ ì²œì§€",
            22: "ìƒëª…ë‚˜ë¬´ê°€ ìˆëŠ” ê±°ë£©í•œ ì„±"
        };
        
        // ìš”í•œê³„ì‹œë¡ ì¥ë³„ ì£¼ìš”ì„±êµ¬
        const keyVerses = {
            1: [1,2,3,4,5,6,7,8,20],
            2: [4,5,7,17,26,27],
            3: [3,12,21],
            4: [1,8],
            5: [1,7,9,10],
            6: [1,2,6,8,12,13],
            7: [3,4,9,14,15],
            8: [1,2],
            9: [1,3,14,15,16],
            10: [1,2,7,10,11],
            11: [1,2,8,15],
            12: [5,9,10,11],
            13: [1,2,6,16,17,18],
            14: [1,2,3,4,5,6],
            15: [2,3,4,5,7],
            16: [12,13,14,15,16],
            17: [5,7,14],
            18: [2,3,4,23],
            19: [7,8,11,12,13,14],
            20: [4,5,6,15],
            21: [1,2,3,4,5,6,7],
            22: [1,2,3,4,5,8,14,16,18,19]
        };
        
        // íŠ¹ë³„ ê°•ì¡° ì„±êµ¬
        const specialKeyVerses = {
            1: [1,2,3,4,5,6,7,8],
            14: [1,2,3,4,5],
            21: [1,2,3,4,5,6,7],
            22: [1,2,3,4,5]
        };
        
        // ê³„ì‹œë¡ 1-22ì¥ ì „ì²´ (ê°œì—­í•œê¸€)
        const chapters = {
            1: ["ì˜ˆìˆ˜ ê·¸ë¦¬ìŠ¤ë„ì˜ ê³„ì‹œë¼ ì´ëŠ” í•˜ë‚˜ë‹˜ì´ ê·¸ì—ê²Œ ì£¼ì‚¬ ë°˜ë“œì‹œ ì†íˆ ë  ì¼ì„ ê·¸ ì¢…ë“¤ì—ê²Œ ë³´ì´ì‹œë ¤ê³  ê·¸ ì²œì‚¬ë¥¼ ê·¸ ì¢… ìš”í•œì—ê²Œ ë³´ë‚´ì–´ ì§€ì‹œí•˜ì‹  ê²ƒì´ë¼","ìš”í•œì€ í•˜ë‚˜ë‹˜ì˜ ë§ì”€ê³¼ ì˜ˆìˆ˜ ê·¸ë¦¬ìŠ¤ë„ì˜ ì¦ê±° ê³§ ìê¸°ì˜ ë³¸ ê²ƒì„ ë‹¤ ì¦ê±°í•˜ì˜€ëŠë‹ˆë¼","ì´ ì˜ˆì–¸ì˜ ë§ì”€ì„ ì½ëŠ” ìì™€ ë“£ëŠ” ìë“¤ê³¼ ê·¸ ê°€ìš´ë° ê¸°ë¡í•œ ê²ƒì„ ì§€í‚¤ëŠ” ìë“¤ì´ ë³µì´ ìˆë‚˜ë‹ˆ ë•Œê°€ ê°€ê¹Œì›€ì´ë¼","ìš”í•œì€ ì•„ì‹œì•„ì— ìˆëŠ” ì¼ê³± êµíšŒì— í¸ì§€í•˜ë…¸ë‹ˆ ì´ì œë„ ê³„ì‹œê³  ì „ì—ë„ ê³„ì‹œê³  ì¥ì°¨ ì˜¤ì‹¤ ì´ì™€ ê·¸ ë³´ì¢Œ ì•ì— ì¼ê³± ì˜ê³¼","ë˜ ì¶©ì„±ëœ ì¦ì¸ìœ¼ë¡œ ì£½ì€ ìë“¤ ê°€ìš´ë°ì„œ ë¨¼ì € ë‚˜ì‹œê³  ë•…ì˜ ì„ê¸ˆë“¤ì˜ ë¨¸ë¦¬ê°€ ë˜ì‹  ì˜ˆìˆ˜ ê·¸ë¦¬ìŠ¤ë„ë¡œ ë§ë¯¸ì•”ì•„ ì€í˜œì™€ í‰ê°•ì´ ë„ˆí¬ì—ê²Œ ìˆê¸°ë¥¼ ì›í•˜ë…¸ë¼ ìš°ë¦¬ë¥¼ ì‚¬ë‘í•˜ì‚¬ ê·¸ì˜ í”¼ë¡œ ìš°ë¦¬ ì£„ì—ì„œ ìš°ë¦¬ë¥¼ í•´ë°©í•˜ì‹œê³ ","ê·¸ ì•„ë²„ì§€ í•˜ë‚˜ë‹˜ì„ ìœ„í•˜ì—¬ ìš°ë¦¬ë¥¼ ë‚˜ë¼ì™€ ì œì‚¬ì¥ìœ¼ë¡œ ì‚¼ìœ¼ì‹  ê·¸ì—ê²Œ ì˜ê´‘ê³¼ ëŠ¥ë ¥ì´ ì„¸ì„¸í† ë¡ ìˆê¸°ë¥¼ ì›í•˜ë…¸ë¼ ì•„ë©˜","ë³¼ì§€ì–´ë‹¤ êµ¬ë¦„ì„ íƒ€ê³  ì˜¤ì‹œë¦¬ë¼ ê°ì¸ì˜ ëˆˆì´ ê·¸ë¥¼ ë³´ê² ê³  ê·¸ë¥¼ ì°Œë¥¸ ìë“¤ë„ ë³¼ í„°ì´ìš” ë•…ì— ìˆëŠ” ëª¨ë“  ì¡±ì†ì´ ê·¸ë¥¼ ì¸í•˜ì—¬ ì• ê³¡í•˜ë¦¬ë‹ˆ ê·¸ëŸ¬í•˜ë¦¬ë¼ ì•„ë©˜","ì£¼ í•˜ë‚˜ë‹˜ì´ ê°€ë¼ì‚¬ëŒ€ ë‚˜ëŠ” ì•ŒíŒŒì™€ ì˜¤ë©”ê°€ë¼ ì´ì œë„ ìˆê³  ì „ì—ë„ ìˆì—ˆê³  ì¥ì°¨ ì˜¬ ììš” ì „ëŠ¥í•œ ìë¼ í•˜ì‹œë”ë¼","ë‚˜ ìš”í•œì€ ë„ˆí¬ í˜•ì œìš” ì˜ˆìˆ˜ì˜ í™˜ë‚œê³¼ ë‚˜ë¼ì™€ ì°¸ìŒì— ë™ì°¸í•˜ëŠ” ìë¼ í•˜ë‚˜ë‹˜ì˜ ë§ì”€ê³¼ ì˜ˆìˆ˜ì˜ ì¦ê±°ë¥¼ ì¸í•˜ì—¬ ë°§ëª¨ë¼ í•˜ëŠ” ì„¬ì— ìˆì—ˆë”ë‹ˆ","ì£¼ì˜ ë‚ ì— ë‚´ê°€ ì„±ë ¹ì— ê°ë™í•˜ì—¬ ë‚´ ë’¤ì—ì„œ ë‚˜ëŠ” ë‚˜íŒ” ì†Œë¦¬ ê°™ì€ í° ìŒì„±ì„ ë“¤ìœ¼ë‹ˆ","ê°€ë¡œë˜ ë„ˆ ë³´ëŠ” ê²ƒì„ ì±…ì— ì¨ì„œ ì—ë² ì†Œ, ì„œë¨¸ë‚˜, ë²„ê°€ëª¨, ë‘ì•„ë””ë¼, ì‚¬ë°, ë¹Œë¼ë¸ë¹„ì•„, ë¼ì˜¤ë””ê²Œì•„ ì¼ê³± êµíšŒì— ë³´ë‚´ë¼ í•˜ì‹œê¸°ë¡œ","ëª¸ì„ ëŒì´ì¼œ ë‚˜ë”ëŸ¬ ë§í•œ ìŒì„±ì„ ì•Œì•„ë³´ë ¤ê³  í•˜ì—¬ ëŒì´í‚¬ ë•Œì— ì¼ê³± ê¸ˆ ì´›ëŒ€ë¥¼ ë³´ì•˜ëŠ”ë°","ì´›ëŒ€ ì‚¬ì´ì— ì¸ì ê°™ì€ ì´ê°€ ë°œì— ëŒë¦¬ëŠ” ì˜·ì„ ì…ê³  ê°€ìŠ´ì— ê¸ˆë ë¥¼ ë ê³ ","ê·¸ ë¨¸ë¦¬ì™€ í„¸ì˜ í¬ê¸°ê°€ í° ì–‘í„¸ ê°™ê³  ëˆˆ ê°™ìœ¼ë©° ê·¸ì˜ ëˆˆì€ ë¶ˆê½ƒ ê°™ê³ ","ê·¸ì˜ ë°œì€ í’€ë¬´ì— ë‹¨ë ¨í•œ ë¹›ë‚œ ì£¼ì„ ê°™ê³  ê·¸ì˜ ìŒì„±ì€ ë§ì€ ë¬¼ì†Œë¦¬ì™€ ê°™ìœ¼ë©°","ê·¸ ì˜¤ë¥¸ì†ì— ì¼ê³± ë³„ì´ ìˆê³  ê·¸ ì…ì—ì„œ ì¢Œìš°ì— ë‚ ì„  ê²€ì´ ë‚˜ì˜¤ê³  ê·¸ ì–¼êµ´ì€ í•´ê°€ í˜ìˆê²Œ ë¹„ì·¨ëŠ” ê²ƒ ê°™ë”ë¼","ë‚´ê°€ ë³¼ ë•Œì— ê·¸ ë°œ ì•ì— ì—ë“œëŸ¬ì ¸ ì£½ì€ ì ê°™ì´ ë˜ë§¤ ê·¸ê°€ ì˜¤ë¥¸ì†ì„ ë‚´ê²Œ ì–¹ê³  ê°€ë¼ì‚¬ëŒ€ ë‘ë ¤ì›Œ ë§ë¼ ë‚˜ëŠ” ì²˜ìŒì´ìš” ë‚˜ì¤‘ì´ë‹ˆ","ê³§ ì‚° ìë¼ ë‚´ê°€ ì „ì— ì£½ì—ˆì—ˆë…¸ë¼ ë³¼ì§€ì–´ë‹¤ ì´ì œ ì„¸ì„¸í† ë¡ ì‚´ì•„ ìˆì–´ ì‚¬ë§ê³¼ ìŒë¶€ì˜ ì—´ì‡ ë¥¼ ê°€ì¡Œë…¸ë‹ˆ","ê·¸ëŸ¬ë¯€ë¡œ ë„¤ ë³¸ ê²ƒê³¼ ì´ì œ ìˆëŠ” ì¼ê³¼ ì¥ì°¨ ë  ì¼ì„ ê¸°ë¡í•˜ë¼","ë„¤ ë³¸ ê²ƒì€ ë‚´ ì˜¤ë¥¸ì†ì— ì¼ê³± ë³„ì˜ ë¹„ë°€ê³¼ ì¼ê³± ê¸ˆ ì´›ëŒ€ë¼ ì¼ê³± ë³„ì€ ì¼ê³± êµíšŒì˜ ì‚¬ììš” ì¼ê³± ì´›ëŒ€ëŠ” ì¼ê³± êµíšŒë‹ˆë¼"],
            // ... ë‚˜ë¨¸ì§€ ì¥ë“¤ì€ ë™ì¼í•˜ê²Œ ìœ ì§€
            2: ["ì—ë² ì†Œ êµíšŒì˜ ì‚¬ìì—ê²Œ í¸ì§€í•˜ê¸°ë¥¼ ì˜¤ë¥¸ì†ì— ì¼ê³± ë³„ì„ ë¶™ì¡ê³  ì¼ê³± ê¸ˆ ì´›ëŒ€ ì‚¬ì´ì— ë‹¤ë‹ˆì‹œëŠ” ì´ê°€ ê°€ë¼ì‚¬ëŒ€","ë‚´ê°€ ë„¤ í–‰ìœ„ì™€ ìˆ˜ê³ ì™€ ë„¤ ì¸ë‚´ë¥¼ ì•Œê³  ë˜ ì•…í•œ ìë“¤ì„ ìš©ë‚©ì§€ ì•„ë‹ˆí•œ ê²ƒê³¼ ìì¹­ ì‚¬ë„ë¼ í•˜ë˜ ì•„ë‹Œ ìë“¤ì„ ì‹œí—˜í•˜ì—¬ ê·¸ ê±°ì§“ëœ ê²ƒì„ ë„¤ê°€ ë“œëŸ¬ë‚¸ ê²ƒê³¼","ë˜ ë„¤ê°€ ì°¸ê³  ë‚´ ì´ë¦„ì„ ìœ„í•˜ì—¬ ê²¬ë””ê³  ê²Œìœ¼ë¥´ì§€ ì•„ë‹ˆí•œ ê²ƒì„ ì•„ë…¸ë¼","ê·¸ëŸ¬ë‚˜ ë„ˆë¥¼ ì±…ë§í•  ê²ƒì´ ìˆë‚˜ë‹ˆ ë„ˆì˜ ì²˜ìŒ ì‚¬ë‘ì„ ë²„ë ¸ëŠë‹ˆë¼","ê·¸ëŸ¬ë¯€ë¡œ ì–´ë””ì„œ ë–¨ì–´ì§„ ê²ƒì„ ìƒê°í•˜ê³  íšŒê°œí•˜ì—¬ ì²˜ìŒ í–‰ìœ„ë¥¼ ê°€ì§€ë¼ ë§Œì¼ ê·¸ë¦¬í•˜ì§€ ì•„ë‹ˆí•˜ê³  íšŒê°œì¹˜ ì•„ë‹ˆí•˜ë©´ ë‚´ê°€ ë„¤ê²Œ ì„í•˜ì—¬ ë„¤ ì´›ëŒ€ë¥¼ ê·¸ ìë¦¬ì—ì„œ ì˜®ê¸°ë¦¬ë¼","ì˜¤ì§ ë„¤ê²Œ ì´ê²ƒì´ ìˆìœ¼ë‹ˆ ë„¤ê°€ ë‹ˆê³¨ë¼ë‹¹ì˜ í–‰ìœ„ë¥¼ ë¯¸ì›Œí•˜ëŠ”ë„ë‹¤ ë‚˜ë„ ì´ê²ƒì„ ë¯¸ì›Œí•˜ë…¸ë¼","ê·€ ìˆëŠ” ìëŠ” ì„±ë ¹ì´ êµíšŒë“¤ì—ê²Œ í•˜ì‹œëŠ” ë§ì”€ì„ ë“¤ì„ì°Œì–´ë‹¤ ì´ê¸°ëŠ” ê·¸ì—ê²ŒëŠ” ë‚´ê°€ í•˜ë‚˜ë‹˜ì˜ ë‚™ì›ì— ìˆëŠ” ìƒëª…ë‚˜ë¬´ì˜ ê³¼ì‹¤ì„ ì£¼ì–´ ë¨¹ê²Œ í•˜ë¦¬ë¼","ì„œë¨¸ë‚˜ êµíšŒì˜ ì‚¬ìì—ê²Œ í¸ì§€í•˜ê¸°ë¥¼ ì²˜ìŒì´ìš” ë‚˜ì¤‘ì´ìš” ì£½ì—ˆë‹¤ê°€ ì‚´ì•„ë‚˜ì‹  ì´ê°€ ê°€ë¼ì‚¬ëŒ€","ë‚´ê°€ ë„¤ í™˜ë‚œê³¼ ê¶í•ì„ ì•„ë…¸ë‹ˆ ì‹¤ìƒì€ ë„¤ê°€ ë¶€ìš”í•œ ìë‹ˆë¼ ìì¹­ ìœ ëŒ€ì¸ì´ë¼ í•˜ëŠ” ìë“¤ì˜ í›¼ë°©ë„ ì•„ë…¸ë‹ˆ ì‹¤ìƒì€ ìœ ëŒ€ì¸ì´ ì•„ë‹ˆìš” ì‚¬ë‹¨ì˜ íšŒë¼","ë„¤ê°€ ì¥ì°¨ ë°›ì„ ê³ ë‚œì„ ë‘ë ¤ì›Œ ë§ë¼ ë³¼ì°Œì–´ë‹¤ ë§ˆê·€ê°€ ì¥ì°¨ ë„ˆí¬ ê°€ìš´ë°ì„œ ëª‡ ì‚¬ëŒì„ ì˜¥ì— ë˜ì ¸ ì‹œí—˜ì„ ë°›ê²Œ í•˜ë¦¬ë‹ˆ ë„ˆí¬ê°€ ì‹­ì¼ ë™ì•ˆ í™˜ë‚œì„ ë°›ìœ¼ë¦¬ë¼ ë„¤ê°€ ì£½ë„ë¡ ì¶©ì„±í•˜ë¼ ê·¸ë¦¬í•˜ë©´ ë‚´ê°€ ìƒëª…ì˜ ë©´ë¥˜ê´€ì„ ë„¤ê²Œ ì£¼ë¦¬ë¼","ê·€ ìˆëŠ” ìëŠ” ì„±ë ¹ì´ êµíšŒë“¤ì—ê²Œ í•˜ì‹œëŠ” ë§ì”€ì„ ë“¤ì„ì°Œì–´ë‹¤ ì´ê¸°ëŠ” ìëŠ” ë‘˜ì§¸ ì‚¬ë§ì˜ í•´ë¥¼ ë°›ì§€ ì•„ë‹ˆí•˜ë¦¬ë¼","ë²„ê°€ëª¨ êµíšŒì˜ ì‚¬ìì—ê²Œ í¸ì§€í•˜ê¸°ë¥¼ ì¢Œìš°ì— ë‚ ì„  ê²€ì„ ê°€ì§„ ì´ê°€ ê°€ë¼ì‚¬ëŒ€","ë„¤ê°€ ì–´ë”” ì‚¬ëŠ” ê²ƒì„ ë‚´ê°€ ì•„ë…¸ë‹ˆ ê±°ê¸°ëŠ” ì‚¬ë‹¨ì˜ ìœ„ê°€ ìˆëŠ” ë°ë¼ ë„¤ê°€ ë‚´ ì´ë¦„ì„ êµ³ê²Œ ì¡ì•„ì„œ ë‚´ ì¶©ì„±ëœ ì¦ì¸ ì•ˆë””ë°”ê°€ ë„ˆí¬ ê°€ìš´ë° ê³§ ì‚¬ë‹¨ì˜ ê±°í•˜ëŠ” ê³³ì—ì„œ ì£½ì„ì„ ë‹¹í•  ë•Œì—ë„ ë‚˜ë¥¼ ë¯¿ëŠ” ë¯¿ìŒì„ ì €ë²„ë¦¬ì§€ ì•„ë‹ˆí•˜ì˜€ë„ë‹¤","ê·¸ëŸ¬ë‚˜ ë„¤ê²Œ ë‘ì–´ê°€ì§€ ì±…ë§í•  ê²ƒì´ ìˆë‚˜ë‹ˆ ê±°ê¸° ë„¤ê²Œ ë°œëŒì˜ êµí›ˆì„ ì§€í‚¤ëŠ” ìë“¤ì´ ìˆë„ë‹¤ ë°œëŒì´ ë°œë½ì„ ê°€ë¥´ì³ ì´ìŠ¤ë¼ì—˜ ì•ì— ì˜¬ë¬´ë¥¼ ë†“ì•„ ìš°ìƒì˜ ì œë¬¼ì„ ë¨¹ê²Œ í•˜ì˜€ê³  ë˜ í–‰ìŒí•˜ê²Œ í•˜ì˜€ëŠë‹ˆë¼","ì´ì™€ ê°™ì´ ë„¤ê²Œë„ ë‹ˆê³¨ë¼ë‹¹ì˜ êµí›ˆì„ ì§€í‚¤ëŠ” ìë“¤ì´ ìˆë„ë‹¤","ê·¸ëŸ¬ë¯€ë¡œ íšŒê°œí•˜ë¼ ê·¸ë¦¬í•˜ì§€ ì•„ë‹ˆí•˜ë©´ ë‚´ê°€ ë„¤ê²Œ ì†íˆ ì„í•˜ì—¬ ë‚´ ì…ì˜ ê²€ìœ¼ë¡œ ê·¸ë“¤ê³¼ ì‹¸ìš°ë¦¬ë¼","ê·€ ìˆëŠ” ìëŠ” ì„±ë ¹ì´ êµíšŒë“¤ì—ê²Œ í•˜ì‹œëŠ” ë§ì”€ì„ ë“¤ì„ì°Œì–´ë‹¤ ì´ê¸°ëŠ” ê·¸ì—ê²ŒëŠ” ë‚´ê°€ ê°ì¶”ì—ˆë˜ ë§Œë‚˜ë¥¼ ì£¼ê³  ë˜ í° ëŒì„ ì¤„í„°ì¸ë° ê·¸ ëŒ ìœ„ì— ìƒˆ ì´ë¦„ì„ ê¸°ë¡í•œ ê²ƒì´ ìˆë‚˜ë‹ˆ ë°›ëŠ” ì ë°–ì—ëŠ” ê·¸ ì´ë¦„ì„ ì•Œ ì‚¬ëŒì´ ì—†ëŠë‹ˆë¼","ë‘ì•„ë””ë¼ êµíšŒì˜ ì‚¬ìì—ê²Œ í¸ì§€í•˜ê¸°ë¥¼ ê·¸ ëˆˆì´ ë¶ˆê½ƒ ê°™ê³  ê·¸ ë°œì´ ë¹›ë‚œ ì£¼ì„ê³¼ ê°™ì€ í•˜ë‚˜ë‹˜ì˜ ì•„ë“¤ì´ ê°€ë¼ì‚¬ëŒ€","ë‚´ê°€ ë„¤ ì‚¬ì—…ê³¼ ì‚¬ë‘ê³¼ ë¯¿ìŒê³¼ ì„¬ê¹€ê³¼ ì¸ë‚´ë¥¼ ì•„ë…¸ë‹ˆ ë„¤ ë‚˜ì¤‘ í–‰ìœ„ê°€ ì²˜ìŒê²ƒë³´ë‹¤ ë§ë„ë‹¤","ê·¸ëŸ¬ë‚˜ ë„¤ê²Œ ì±…ë§í•  ì¼ì´ ìˆë…¸ë¼ ìì¹­ ì„ ì§€ìë¼ í•˜ëŠ” ì—¬ì ì´ì„¸ë²¨ì„ ë„¤ê°€ ìš©ë‚©í•¨ì´ë‹ˆ ê·¸ê°€ ë‚´ ì¢…ë“¤ì„ ê°€ë¥´ì³ ê¾€ì–´ í–‰ìŒí•˜ê²Œ í•˜ê³  ìš°ìƒì˜ ì œë¬¼ì„ ë¨¹ê²Œ í•˜ëŠ”ë„ë‹¤","ë˜ ë‚´ê°€ ê·¸ì—ê²Œ íšŒê°œí•  ê¸°íšŒë¥¼ ì£¼ì—ˆìœ¼ë˜ ê·¸ ìŒí–‰ì„ íšŒê°œí•˜ê³ ì ì•„ë‹ˆí•˜ëŠ”ë„ë‹¤","ë³¼ì°Œì–´ë‹¤ ë‚´ê°€ ê·¸ë¥¼ ì¹¨ìƒì— ë˜ì§ˆí„°ì´ìš” ë˜ ê·¸ë¡œ ë”ë¶ˆì–´ ê°„ìŒí•˜ëŠ” ìë“¤ë„ ë§Œì¼ ê·¸ì˜ í–‰ìœ„ë¥¼ íšŒê°œì¹˜ ì•„ë‹ˆí•˜ë©´ í° í™˜ë‚œ ê°€ìš´ë° ë˜ì§€ê³ ","ë˜ ë‚´ê°€ ì‚¬ë§ìœ¼ë¡œ ê·¸ì˜ ìë…€ë¥¼ ì£½ì´ë¦¬ë‹ˆ ëª¨ë“  êµíšŒê°€ ë‚˜ëŠ” ì‚¬ëŒì˜ ëœ»ê³¼ ë§ˆìŒì„ ì‚´í”¼ëŠ” ìì¸ì¤„ ì•Œì°Œë¼ ë‚´ê°€ ë„ˆí¬ ê° ì‚¬ëŒì˜ í–‰ìœ„ëŒ€ë¡œ ê°šì•„ ì£¼ë¦¬ë¼","ë‘ì•„ë””ë¼ì— ë‚¨ì•„ ìˆì–´ ì´ êµí›ˆì„ ë°›ì§€ ì•„ë‹ˆí•˜ê³  ì†Œìœ„ ì‚¬ë‹¨ì˜ ê¹Šì€ ê²ƒì„ ì•Œì§€ ëª»í•˜ëŠ” ë„ˆí¬ì—ê²Œ ë§í•˜ë…¸ë‹ˆ ë‹¤ë¥¸ ì§ìœ¼ë¡œ ë„ˆí¬ì—ê²Œ ì§€ìš¸ ê²ƒì´ ì—†ë…¸ë¼","ë‹¤ë§Œ ë„ˆí¬ì—ê²Œ ìˆëŠ” ê²ƒì„ ë‚´ê°€ ì˜¬ ë•Œê¹Œì§€ êµ³ê²Œ ì¡ìœ¼ë¼","ì´ê¸°ëŠ” ìì™€ ëê¹Œì§€ ë‚´ ì¼ì„ ì§€í‚¤ëŠ” ê·¸ì—ê²Œ ë§Œêµ­ì„ ë‹¤ìŠ¤ë¦¬ëŠ” ê¶Œì„¸ë¥¼ ì£¼ë¦¬ë‹ˆ","ê·¸ê°€ ì² ì¥ì„ ê°€ì§€ê³  ì €í¬ë¥¼ ë‹¤ìŠ¤ë ¤ ì§ˆê·¸ë¦‡ ê¹¨ëœ¨ë¦¬ëŠ” ê²ƒê³¼ ê°™ì´ í•˜ë¦¬ë¼ ë‚˜ë„ ë‚´ ì•„ë²„ì§€ê»˜ ë°›ì€ ê²ƒì´ ê·¸ëŸ¬í•˜ë‹ˆë¼","ë‚´ê°€ ë˜ ê·¸ì—ê²Œ ìƒˆë²½ ë³„ì„ ì£¼ë¦¬ë¼","ê·€ ìˆëŠ” ìëŠ” ì„±ë ¹ì´ êµíšŒë“¤ì—ê²Œ í•˜ì‹œëŠ” ë§ì”€ì„ ë“¤ì„ì°Œì–´ë‹¤"],
            3: ["ì‚¬ë° êµíšŒì˜ ì‚¬ìì—ê²Œ í¸ì§€í•˜ê¸°ë¥¼ í•˜ë‚˜ë‹˜ì˜ ì¼ê³± ì˜ê³¼ ì¼ê³± ë³„ì„ ê°€ì§„ì´ê°€ ê°€ë¼ì‚¬ëŒ€ ë‚´ê°€ ë„¤ í–‰ìœ„ë¥¼ ì•„ë…¸ë‹ˆ ë„¤ê°€ ì‚´ì•˜ë‹¤ í•˜ëŠ” ì´ë¦„ì€ ê°€ì¡Œìœ¼ë‚˜ ì£½ì€ ìë¡œë‹¤","ë„ˆëŠ” ì¼ê¹¨ì›Œ ê·¸ ë‚¨ì€ë°” ì£½ê²Œ ëœ ê²ƒì„ êµ³ê²Œ í•˜ë¼ ë‚´ í•˜ë‚˜ë‹˜ ì•ì— ë„¤ í–‰ìœ„ì˜ ì˜¨ì „í•œ ê²ƒì„ ì°¾ì§€ ëª»í•˜ì˜€ë…¸ë‹ˆ","ê·¸ëŸ¬ë¯€ë¡œ ë„¤ê°€ ì–´ë–»ê²Œ ë°›ì•˜ìœ¼ë©° ì–´ë–»ê²Œ ë“¤ì—ˆëŠ”ì§€ ìƒê°í•˜ê³  ì§€í‚¤ì–´ íšŒê°œí•˜ë¼ ë§Œì¼ ì¼ê¹¨ì§€ ì•„ë‹ˆí•˜ë©´ ë‚´ê°€ ë„ì  ê°™ì´ ì´ë¥´ë¦¬ë‹ˆ ì–´ëŠ ì‹œì— ë„¤ê²Œ ì„í• ëŠ”ì§€ ë„¤ê°€ ì•Œì§€ ëª»í•˜ë¦¬ë¼","ê·¸ëŸ¬ë‚˜ ì‚¬ë°ì— ê·¸ ì˜·ì„ ë”ëŸ½íˆì§€ ì•„ë‹ˆí•œ ì ëª‡ëª…ì´ ë„¤ê²Œ ìˆì–´ í° ì˜·ì„ ì…ê³  ë‚˜ì™€ í•¨ê»˜ ë‹¤ë‹ˆë¦¬ë‹ˆ ê·¸ë“¤ì€ í•©ë‹¹í•œ ìì¸ ì—°ê³ ë¼","ì´ê¸°ëŠ” ìëŠ” ì´ì™€ ê°™ì´ í° ì˜·ì„ ì…ì„ ê²ƒì´ìš” ë‚´ê°€ ê·¸ ì´ë¦„ì„ ìƒëª…ì±…ì—ì„œ ë°˜ë“œì‹œ íë¦¬ì§€ ì•„ë‹ˆí•˜ê³  ê·¸ ì´ë¦„ì„ ë‚´ ì•„ë²„ì§€ ì•ê³¼ ê·¸ ì²œì‚¬ë“¤ ì•ì—ì„œ ì‹œì¸í•˜ë¦¬ë¼","ê·€ ìˆëŠ” ìëŠ” ì„±ë ¹ì´ êµíšŒë“¤ì—ê²Œ í•˜ì‹œëŠ” ë§ì”€ì„ ë“¤ì„ì°Œì–´ë‹¤","ë¹Œë¼ë¸ë¹„ì•„ êµíšŒì˜ ì‚¬ìì—ê²Œ í¸ì§€í•˜ê¸°ë¥¼ ê±°ë£©í•˜ê³  ì§„ì‹¤í•˜ì‚¬ ë‹¤ìœ—ì˜ ì—´ì‡ ë¥¼ ê°€ì§€ì‹  ì´ ê³§ ì—´ë©´ ë‹«ì„ ì‚¬ëŒì´ ì—†ê³  ë‹«ìœ¼ë©´ ì—´ ì‚¬ëŒì´ ì—†ëŠ” ê·¸ì´ê°€ ê°€ë¼ì‚¬ëŒ€","ë³¼ì°Œì–´ë‹¤ ë‚´ê°€ ë„¤ ì•ì— ì—´ë¦° ë¬¸ì„ ë‘ì—ˆìœ¼ë˜ ëŠ¥íˆ ë‹«ì„ ì‚¬ëŒì´ ì—†ìœ¼ë¦¬ë¼ ë‚´ê°€ ë„¤ í–‰ìœ„ë¥¼ ì•„ë…¸ë‹ˆ ë„¤ê°€ ì ì€ ëŠ¥ë ¥ì„ ê°€ì§€ê³ ë„ ë‚´ ë§ì„ ì§€í‚¤ë©° ë‚´ ì´ë¦„ì„ ë°°ë°˜ì¹˜ ì•„ë‹ˆí•˜ì˜€ë„ë‹¤","ë³´ë¼ ì‚¬ë‹¨ì˜ íšŒ ê³§ ìì¹­ ìœ ëŒ€ì¸ì´ë¼ í•˜ë‚˜ ê·¸ë ‡ì§€ ì•Šê³  ê±°ì§“ë§ í•˜ëŠ” ìë“¤ ì¤‘ì—ì„œ ëª‡ì„ ë„¤ê²Œ ì£¼ì–´ ì €í¬ë¡œ ì™€ì„œ ë„¤ ë°œì•ì— ì ˆí•˜ê²Œ í•˜ê³  ë‚´ê°€ ë„ˆë¥¼ ì‚¬ë‘í•˜ëŠ” ì¤„ì„ ì•Œê²Œ í•˜ë¦¬ë¼","ë„¤ê°€ ë‚˜ì˜ ì¸ë‚´ì˜ ë§ì”€ì„ ì§€ì¼°ì€ì¦‰ ë‚´ê°€ ë˜í•œ ë„ˆë¥¼ ì§€í‚¤ì–´ ì‹œí—˜ì˜ ë•Œë¥¼ ë©´í•˜ê²Œ í•˜ë¦¬ë‹ˆ ì´ëŠ” ì¥ì°¨ ì˜¨ ì„¸ìƒì— ì„í•˜ì—¬ ë•…ì— ê±°í•˜ëŠ” ìë“¤ì„ ì‹œí—˜í•  ë•Œë¼","ë‚´ê°€ ì†íˆ ì„í•˜ë¦¬ë‹ˆ ë„¤ê°€ ê°€ì§„ ê²ƒì„ êµ³ê²Œ ì¡ì•„ ì•„ë¬´ë‚˜ ë„¤ ë©´ë¥˜ê´€ì„ ë¹¼ì•—ì§€ ëª»í•˜ê²Œ í•˜ë¼","ì´ê¸°ëŠ” ìëŠ” ë‚´ í•˜ë‚˜ë‹˜ ì„±ì „ì— ê¸°ë‘¥ì´ ë˜ê²Œ í•˜ë¦¬ë‹ˆ ê·¸ê°€ ê²°ì½” ë‹¤ì‹œ ë‚˜ê°€ì§€ ì•„ë‹ˆí•˜ë¦¬ë¼ ë‚´ê°€ í•˜ë‚˜ë‹˜ì˜ ì´ë¦„ê³¼ í•˜ë‚˜ë‹˜ì˜ ì„± ê³§ í•˜ëŠ˜ì—ì„œ ë‚´ í•˜ë‚˜ë‹˜ê»˜ë¡œë¶€í„° ë‚´ë ¤ ì˜¤ëŠ” ìƒˆ ì˜ˆë£¨ì‚´ë ˜ì˜ ì´ë¦„ê³¼ ë‚˜ì˜ ìƒˆ ì´ë¦„ì„ ê·¸ì´ ìœ„ì— ê¸°ë¡í•˜ë¦¬ë¼","ê·€ ìˆëŠ” ìëŠ” ì„±ë ¹ì´ êµíšŒë“¤ì—ê²Œ í•˜ì‹œëŠ” ë§ì”€ì„ ë“¤ì„ì°Œì–´ë‹¤","ë¼ì˜¤ë””ê²Œì•„ êµíšŒì˜ ì‚¬ìì—ê²Œ í¸ì§€í•˜ê¸°ë¥¼ ì•„ë©˜ì´ì‹œìš” ì¶©ì„±ë˜ê³  ì°¸ëœ ì¦ì¸ì´ì‹œìš” í•˜ë‚˜ë‹˜ì˜ ì°½ì¡°ì˜ ê·¼ë³¸ì´ì‹  ì´ê°€ ê°€ë¼ì‚¬ëŒ€","ë‚´ê°€ ë„¤ í–‰ìœ„ë¥¼ ì•„ë…¸ë‹ˆ ë„¤ê°€ ì°¨ì§€ë„ ì•„ë‹ˆí•˜ê³  ë”ì›ì§€ë„ ì•„ë‹ˆí•˜ë„ë‹¤ ë„¤ê°€ ì°¨ë“ ì§€ ë”ì›ë“ ì§€ í•˜ê¸°ë¥¼ ì›í•˜ë…¸ë¼","ë„¤ê°€ ì´ê°™ì´ ë¯¸ì§€ê·¼í•˜ì—¬ ë”ì›ì§€ë„ ì•„ë‹ˆí•˜ê³  ì°¨ì§€ë„ ì•„ë‹ˆí•˜ë‹ˆ ë‚´ ì…ì—ì„œ ë„ˆë¥¼ í† í•˜ì—¬ ë‚´ì¹˜ë¦¬ë¼","ë„¤ê°€ ë§í•˜ê¸°ë¥¼ ë‚˜ëŠ” ë¶€ìë¼ ë¶€ìš”í•˜ì—¬ ë¶€ì¡±í•œ ê²ƒì´ ì—†ë‹¤ í•˜ë‚˜ ë„¤ ê³¤ê³ í•œ ê²ƒê³¼ ê°€ë ¨í•œ ê²ƒê³¼ ê°€ë‚œí•œ ê²ƒê³¼ ëˆˆ ë¨¼ê²ƒê³¼ ë²Œê±°ë²—ì€ ê²ƒì„ ì•Œì§€ ëª»í•˜ë„ë‹¤","ë‚´ê°€ ë„ˆë¥¼ ê¶Œí•˜ë…¸ë‹ˆ ë‚´ê²Œì„œ ë¶ˆë¡œ ì—°ë‹¨í•œ ê¸ˆì„ ì‚¬ì„œ ë¶€ìš”í•˜ê²Œ í•˜ê³  í° ì˜·ì„ ì‚¬ì„œ ì…ì–´ ë²Œê±°ë²—ì€ ìˆ˜ì¹˜ë¥¼ ë³´ì´ì§€ ì•Šê²Œ í•˜ê³  ì•ˆì•½ì„ ì‚¬ì„œ ëˆˆì— ë°œë¼ ë³´ê²Œ í•˜ë¼","ë¬´ë¦‡ ë‚´ê°€ ì‚¬ë‘í•˜ëŠ” ìë¥¼ ì±…ë§í•˜ì—¬ ì§•ê³„í•˜ë…¸ë‹ˆ ê·¸ëŸ¬ë¯€ë¡œ ë„¤ê°€ ì—´ì‹¬ì„ ë‚´ë¼ íšŒê°œí•˜ë¼","ë³¼ì°Œì–´ë‹¤ ë‚´ê°€ ë¬¸ë°–ì— ì„œì„œ ë‘ë“œë¦¬ë…¸ë‹ˆ ëˆ„êµ¬ë“ ì§€ ë‚´ ìŒì„±ì„ ë“£ê³  ë¬¸ì„ ì—´ë©´ ë‚´ê°€ ê·¸ì—ê²Œë¡œ ë“¤ì–´ê°€ ê·¸ë¡œ ë”ë¶ˆì–´ ë¨¹ê³  ê·¸ëŠ” ë‚˜ë¡œ ë”ë¶ˆì–´ ë¨¹ìœ¼ë¦¬ë¼","ì´ê¸°ëŠ” ê·¸ì—ê²ŒëŠ” ë‚´ê°€ ë‚´ ë³´ì¢Œì— í•¨ê»˜ ì•‰ê²Œ í•˜ì—¬ì£¼ê¸°ë¥¼ ë‚´ê°€ ì´ê¸°ê³  ì•„ë²„ì§€ ë³´ì¢Œì— í•¨ê»˜ ì•‰ì€ ê²ƒê³¼ ê°™ì´ í•˜ë¦¬ë¼","ê·€ ìˆëŠ” ìëŠ” ì„±ë ¹ì´ êµíšŒë“¤ì—ê²Œ í•˜ì‹œëŠ” ë§ì”€ì„ ë“¤ì„ì°Œì–´ë‹¤"],
            // ë‚˜ë¨¸ì§€ ì¥ë“¤ë„ ë™ì¼í•˜ê²Œ í¬í•¨ë˜ì–´ ìˆìŒ (ìƒëµ)
            4: ["ì´ ì¼ í›„ì— ë‚´ê°€ ë³´ë‹ˆ í•˜ëŠ˜ì— ì—´ë¦° ë¬¸ì´ ìˆëŠ”ë° ë‚´ê°€ ë“¤ì€ë°” ì²˜ìŒì— ë‚´ê²Œ ë§í•˜ë˜ ë‚˜íŒ”ì†Œë¦¬ ê°™ì€ ê·¸ ìŒì„±ì´ ê°€ë¡œë˜ ì´ë¦¬ë¡œ ì˜¬ë¼ì˜¤ë¼ ì´ í›„ì— ë§ˆë•…íˆ ë  ì¼ì„ ë‚´ê°€ ë„¤ê²Œ ë³´ì´ë¦¬ë¼ í•˜ì‹œë”ë¼","ë‚´ê°€ ê³§ ì„±ë ¹ì— ê°ë™í•˜ì˜€ë”ë‹ˆ ë³´ë¼ í•˜ëŠ˜ì— ë³´ì¢Œë¥¼ ë² í’€ì—ˆê³  ê·¸ ë³´ì¢Œ ìœ„ì— ì•‰ìœ¼ì‹  ì´ê°€ ìˆëŠ”ë°","ì•‰ìœ¼ì‹  ì´ì˜ ëª¨ì–‘ì´ ë²½ì˜¥ê³¼ í™ë³´ì„ ê°™ê³  ë˜ ë¬´ì§€ê°œê°€ ìˆì–´ ë³´ì¢Œì— ë‘˜ë ¸ëŠ”ë° ê·¸ ëª¨ì–‘ì´ ë…¹ë³´ì„ ê°™ë”ë¼","ë˜ ë³´ì¢Œì— ë‘˜ë ¤ ì´ì‹­ ì‚¬ ë³´ì¢Œë“¤ì´ ìˆê³  ê·¸ ë³´ì¢Œë“¤ ìœ„ì— ì´ì‹­ ì‚¬ ì¥ë¡œë“¤ì´ í° ì˜·ì„ ì…ê³  ë¨¸ë¦¬ì— ê¸ˆ ë©´ë¥˜ê´€ì„ ì“°ê³  ì•‰ì•˜ë”ë¼","ë³´ì¢Œë¡œë¶€í„° ë²ˆê°œì™€ ìŒì„±ê³¼ ë‡Œì„±ì´ ë‚˜ê³  ë³´ì¢Œ ì•ì— ì¼ê³± ë“±ë¶ˆ ì¼ ê²ƒì´ ìˆìœ¼ë‹ˆ ì´ëŠ” í•˜ë‚˜ë‹˜ì˜ ì¼ê³± ì˜ì´ë¼","ë³´ì¢Œ ì•ì— ìˆ˜ì •ê³¼ ê°™ì€ ìœ ë¦¬ ë°”ë‹¤ê°€ ìˆê³  ë³´ì¢Œ ê°€ìš´ë°ì™€ ë³´ì¢Œ ì£¼ìœ„ì— ë„¤ ìƒë¬¼ì´ ìˆëŠ”ë° ì•ë’¤ì— ëˆˆì´ ê°€ë“í•˜ë”ë¼","ê·¸ ì²«ì§¸ ìƒë¬¼ì€ ì‚¬ì ê°™ê³  ê·¸ ë‘˜ì§¸ ìƒë¬¼ì€ ì†¡ì•„ì§€ ê°™ê³  ê·¸ ì„¸ì§¸ ìƒë¬¼ì€ ì–¼êµ´ì´ ì‚¬ëŒ ê°™ê³  ê·¸ ë„¤ì§¸ ìƒë¬¼ì€ ë‚ ì•„ê°€ëŠ” ë…ìˆ˜ë¦¬ ê°™ì€ë°","ë„¤ ìƒë¬¼ì´ ê°ê° ì—¬ì„¯ ë‚ ê°œê°€ ìˆê³  ê·¸ ì•ˆê³¼ ì£¼ìœ„ì— ëˆˆì´ ê°€ë“í•˜ë”ë¼ ê·¸ë“¤ì´ ë°¤ë‚® ì‰¬ì§€ ì•Šê³  ì´ë¥´ê¸°ë¥¼ ê±°ë£©í•˜ë‹¤ ê±°ë£©í•˜ë‹¤ ê±°ë£©í•˜ë‹¤ ì£¼ í•˜ë‚˜ë‹˜ ê³§ ì „ëŠ¥í•˜ì‹  ì´ì—¬ ì „ì—ë„ ê³„ì…¨ê³  ì´ì œë„ ê³„ì‹œê³  ì¥ì°¨ ì˜¤ì‹¤ ìë¼ í•˜ê³ ","ê·¸ ìƒë¬¼ë“¤ì´ ì˜ê´‘ê³¼ ì¡´ê·€ì™€ ê°ì‚¬ë¥¼ ë³´ì¢Œì— ì•‰ìœ¼ì‚¬ ì„¸ì„¸í† ë¡ ì‚¬ì‹œëŠ” ì´ì—ê²Œ ëŒë¦´ ë•Œì—","ì´ì‹­ì‚¬ ì¥ë¡œë“¤ì´ ë³´ì¢Œì— ì•‰ìœ¼ì‹  ì´ ì•ì— ì—ë“œë ¤ ì„¸ì„¸í† ë¡ ì‚¬ì‹œëŠ” ì´ì—ê²Œ ê²½ë°°í•˜ê³  ìê¸°ì˜ ë©´ë¥˜ê´€ì„ ë³´ì¢Œ ì•ì— ë˜ì§€ë©° ê°€ë¡œë˜","ìš°ë¦¬ ì£¼ í•˜ë‚˜ë‹˜ì´ì—¬ ì˜ê´‘ê³¼ ì¡´ê·€ì™€ ëŠ¥ë ¥ì„ ë°›ìœ¼ì‹œëŠ” ê²ƒì´ í•©ë‹¹í•˜ì˜¤ë‹ˆ ì£¼ê»˜ì„œ ë§Œë¬¼ì„ ì§€ìœ¼ì‹ ì§€ë¼ ë§Œë¬¼ì´ ì£¼ì˜ ëœ»ëŒ€ë¡œ ìˆì—ˆê³  ë˜ ì§€ìœ¼ì‹¬ì„ ë°›ì•˜ë‚˜ì´ë‹¤ í•˜ë”ë¼"],
            5: ["ë‚´ê°€ ë³´ë§¤ ë³´ì¢Œì— ì•‰ìœ¼ì‹  ì´ì˜ ì˜¤ë¥¸ì†ì— ì±…ì´ ìˆìœ¼ë‹ˆ ì•ˆíŒìœ¼ë¡œ ì¼ê³  ì¼ê³± ì¸ìœ¼ë¡œ ë´‰í•˜ì˜€ë”ë¼","ë˜ ë³´ë§¤ í˜ ìˆëŠ” ì²œì‚¬ê°€ í° ìŒì„±ìœ¼ë¡œ ì™¸ì¹˜ê¸°ë¥¼ ëˆ„ê°€ ì±…ì„ í´ë©° ê·¸ ì¸ì„ ë–¼ê¸°ì— í•©ë‹¹í•˜ëƒ í•˜ë‹ˆ","í•˜ëŠ˜ ìœ„ì—ë‚˜ ë•… ìœ„ì—ë‚˜ ë•… ì•„ë˜ì— ëŠ¥íˆ ì±…ì„ í´ê±°ë‚˜ ë³´ê±°ë‚˜ í•  ì´ê°€ ì—†ë”ë¼","ì´ ì±…ì„ í´ê±°ë‚˜ ë³´ê±°ë‚˜ í•˜ê¸°ì— í•©ë‹¹í•œ ìê°€ ë³´ì´ì§€ ì•Šê¸°ë¡œ ë‚´ê°€ í¬ê²Œ ìš¸ì—ˆë”ë‹ˆ","ì¥ë¡œ ì¤‘ì— í•˜ë‚˜ê°€ ë‚´ê²Œ ë§í•˜ë˜ ìš¸ì§€ ë§ë¼ ìœ ëŒ€ ì§€íŒŒì˜ ì‚¬ì ë‹¤ìœ—ì˜ ë¿Œë¦¬ê°€ ì´ê¸°ì—ˆìœ¼ë‹ˆ ì´ ì±…ê³¼ ê·¸ ì¼ê³± ì¸ì„ ë–¼ì‹œë¦¬ë¼ í•˜ë”ë¼","ë‚´ê°€ ë˜ ë³´ë‹ˆ ë³´ì¢Œì™€ ë„¤ ìƒë¬¼ê³¼ ì¥ë¡œë“¤ ì‚¬ì´ì— ì–´ë¦° ì–‘ì´ ì„°ëŠ”ë° ì¼ì° ì£½ì„ì„ ë‹¹í•œê²ƒ ê°™ë”ë¼ ì¼ê³± ë¿”ê³¼ ì¼ê³± ëˆˆì´ ìˆìœ¼ë‹ˆ ì´ ëˆˆì€ ì˜¨ ë•…ì— ë³´ë‚´ì‹¬ì„ ì…ì€ í•˜ë‚˜ë‹˜ì˜ ì¼ê³± ì˜ì´ë”ë¼","ì–´ë¦° ì–‘ì´ ë‚˜ì•„ì™€ì„œ ë³´ì¢Œì— ì•‰ìœ¼ì‹  ì´ì˜ ì˜¤ë¥¸ì†ì—ì„œ ì±…ì„ ì·¨í•˜ì‹œë‹ˆë¼","ì±…ì„ ì·¨í•˜ì‹œë§¤ ë„¤ ìƒë¬¼ê³¼ ì´ì‹­ ì‚¬ ì¥ë¡œë“¤ì´ ì–´ë¦° ì–‘ ì•ì— ì—ë“œë ¤ ê°ê° ê±°ë¬¸ê³ ì™€ í–¥ì´ ê°€ë“í•œ ê¸ˆ ëŒ€ì ‘ì„ ê°€ì¡Œìœ¼ë‹ˆ ì´ í–¥ì€ ì„±ë„ì˜ ê¸°ë„ë“¤ì´ë¼","ìƒˆ ë…¸ë˜ë¥¼ ë…¸ë˜í•˜ì—¬ ê°€ë¡œë˜ ì±…ì„ ê°€ì§€ì‹œê³  ê·¸ ì¸ë´‰ì„ ë–¼ê¸°ì— í•©ë‹¹í•˜ì‹œë„ë‹¤ ì¼ì° ì£½ì„ì„ ë‹¹í•˜ì‚¬ ê° ì¡±ì†ê³¼ ë°©ì–¸ê³¼ ë°±ì„±ê³¼ ë‚˜ë¼ ê°€ìš´ë°ì„œ ì‚¬ëŒë“¤ì„ í”¼ë¡œ ì‚¬ì„œ í•˜ë‚˜ë‹˜ê»˜ ë“œë¦¬ì‹œê³ ","ì €í¬ë¡œ ìš°ë¦¬ í•˜ë‚˜ë‹˜ ì•ì—ì„œ ë‚˜ë¼ì™€ ì œì‚¬ì¥ì„ ì‚¼ìœ¼ì…¨ìœ¼ë‹ˆ ì €í¬ê°€ ë•…ì—ì„œ ì™•ë…¸ë¦‡í•˜ë¦¬ë¡œë‹¤ í•˜ë”ë¼","ë‚´ê°€ ë˜ ë³´ê³  ë“¤ìœ¼ë§¤ ë³´ì¢Œì™€ ìƒë¬¼ë“¤ê³¼ ì¥ë¡œë“¤ì„ ë‘˜ëŸ¬ ì„  ë§ì€ ì²œì‚¬ì˜ ìŒì„±ì´ ìˆìœ¼ë‹ˆ ê·¸ ìˆ˜ê°€ ë§Œë§Œì´ìš” ì²œì²œì´ë¼","í° ìŒì„±ìœ¼ë¡œ ê°€ë¡œë˜ ì£½ì„ì„ ë‹¹í•˜ì‹  ì–´ë¦° ì–‘ì´ ëŠ¥ë ¥ê³¼ ë¶€ì™€ ì§€í˜œì™€ í˜ê³¼ ì¡´ê·€ì™€ ì˜ê´‘ê³¼ ì°¬ì†¡ì„ ë°›ìœ¼ì‹œê¸°ì— í•©ë‹¹í•˜ë„ë‹¤ í•˜ë”ë¼","ë‚´ê°€ ë˜ ë“¤ìœ¼ë‹ˆ í•˜ëŠ˜ ìœ„ì—ì™€ ë•… ìœ„ì—ì™€ ë•… ì•„ë˜ì™€ ë°”ë‹¤ ìœ„ì—ì™€ ë˜ ê·¸ ê°€ìš´ë° ëª¨ë“  ë§Œë¬¼ì´ ê°€ë¡œë˜ ë³´ì¢Œì— ì•‰ìœ¼ì‹  ì´ì™€ ì–´ë¦° ì–‘ì—ê²Œ ì°¬ì†¡ê³¼ ì¡´ê·€ì™€ ì˜ê´‘ê³¼ ëŠ¥ë ¥ì„ ì„¸ì„¸í† ë¡ ëŒë¦´ì°Œì–´ë‹¤ í•˜ë‹ˆ","ë„¤ ìƒë¬¼ì´ ê°€ë¡œë˜ ì•„ë©˜ í•˜ê³  ì¥ë¡œë“¤ì€ ì—ë“œë ¤ ê²½ë°°í•˜ë”ë¼"],
            // 6-22ì¥ë„ ë™ì¼í•˜ê²Œ í¬í•¨ (ì—¬ê¸°ì„œëŠ” ìƒëµ)
            21: ["ë˜ ë‚´ê°€ ìƒˆ í•˜ëŠ˜ê³¼ ìƒˆ ë•…ì„ ë³´ë‹ˆ ì²˜ìŒ í•˜ëŠ˜ê³¼ ì²˜ìŒ ë•…ì´ ì—†ì–´ì¡Œê³  ë°”ë‹¤ë„ ë‹¤ì‹œ ìˆì§€ ì•Šë”ë¼","ë˜ ë‚´ê°€ ë³´ë§¤ ê±°ë£©í•œ ì„± ìƒˆ ì˜ˆë£¨ì‚´ë ˜ì´ í•˜ë‚˜ë‹˜ê»˜ë¡œë¶€í„° í•˜ëŠ˜ì—ì„œ ë‚´ë ¤ì˜¤ë‹ˆ ê·¸ ì˜ˆë¹„í•œ ê²ƒì´ ì‹ ë¶€ê°€ ë‚¨í¸ì„ ìœ„í•˜ì—¬ ë‹¨ì¥í•œ ê²ƒ ê°™ë”ë¼","ë‚´ê°€ ë“¤ìœ¼ë‹ˆ ë³´ì¢Œì—ì„œ í° ìŒì„±ì´ ë‚˜ì„œ ê°€ë¡œë˜ ë³´ë¼ í•˜ë‚˜ë‹˜ì˜ ì¥ë§‰ì´ ì‚¬ëŒë“¤ê³¼ í•¨ê»˜ ìˆìœ¼ë§¤ í•˜ë‚˜ë‹˜ì´ ì €í¬ì™€ í•¨ê»˜ ê±°í•˜ì‹œë¦¬ë‹ˆ ì €í¬ëŠ” í•˜ë‚˜ë‹˜ì˜ ë°±ì„±ì´ ë˜ê³  í•˜ë‚˜ë‹˜ì€ ì¹œíˆ ì €í¬ì™€ í•¨ê»˜ ê³„ì…”ì„œ","ëª¨ë“  ëˆˆë¬¼ì„ ê·¸ ëˆˆì—ì„œ ì”»ê¸°ì‹œë§¤ ë‹¤ì‹œ ì‚¬ë§ì´ ì—†ê³  ì• í†µí•˜ëŠ” ê²ƒì´ë‚˜ ê³¡í•˜ëŠ” ê²ƒì´ë‚˜ ì•„í”ˆ ê²ƒì´ ë‹¤ì‹œ ìˆì§€ ì•„ë‹ˆí•˜ë¦¬ë‹ˆ ì²˜ìŒ ê²ƒë“¤ì´ ë‹¤ ì§€ë‚˜ê°”ìŒì´ëŸ¬ë¼","ë³´ì¢Œì— ì•‰ìœ¼ì‹  ì´ê°€ ê°€ë¼ì‚¬ëŒ€ ë³´ë¼ ë‚´ê°€ ë§Œë¬¼ì„ ìƒˆë¡­ê²Œ í•˜ë…¸ë¼ í•˜ì‹œê³  ë˜ ê°€ë¼ì‚¬ëŒ€ ì´ ë§ì€ ì‹ ì‹¤í•˜ê³  ì°¸ë˜ë‹ˆ ê¸°ë¡í•˜ë¼ í•˜ì‹œê³ ","ë˜ ë‚´ê²Œ ë§ì”€í•˜ì‹œë˜ ì´ë£¨ì—ˆë„ë‹¤ ë‚˜ëŠ” ì•ŒíŒŒì™€ ì˜¤ë©”ê°€ìš” ì²˜ìŒê³¼ ë‚˜ì¤‘ì´ë¼ ë‚´ê°€ ìƒëª…ìˆ˜ ìƒ˜ë¬¼ë¡œ ëª© ë§ˆë¥¸ ìì—ê²Œ ê°’ ì—†ì´ ì£¼ë¦¬ë‹ˆ","ì´ê¸°ëŠ” ìëŠ” ì´ê²ƒë“¤ì„ ìœ ì—…ìœ¼ë¡œ ì–»ìœ¼ë¦¬ë¼ ë‚˜ëŠ” ì €ì˜ í•˜ë‚˜ë‹˜ì´ ë˜ê³  ê·¸ëŠ” ë‚´ ì•„ë“¤ì´ ë˜ë¦¬ë¼"],
            22: ["ë˜ ì €ê°€ ìˆ˜ì • ê°™ì´ ë§‘ì€ ìƒëª…ìˆ˜ì˜ ê°•ì„ ë‚´ê²Œ ë³´ì´ë‹ˆ í•˜ë‚˜ë‹˜ê³¼ ë° ì–´ë¦° ì–‘ì˜ ë³´ì¢Œë¡œë¶€í„° ë‚˜ì„œ","ê¸¸ ê°€ìš´ë°ë¡œ íë¥´ë”ë¼ ê°• ì¢Œìš°ì— ìƒëª… ë‚˜ë¬´ê°€ ìˆì–´ ì—´ ë‘ê°€ì§€ ì‹¤ê³¼ë¥¼ ë§ºíˆë˜ ë‹¬ë§ˆë‹¤ ê·¸ ì‹¤ê³¼ë¥¼ ë§ºíˆê³  ê·¸ ë‚˜ë¬´ ìì‚¬ê·€ë“¤ì€ ë§Œêµ­ì„ ì†Œì„±í•˜ê¸° ìœ„í•˜ì—¬ ìˆë”ë¼","ë‹¤ì‹œ ì €ì£¼ê°€ ì—†ìœ¼ë©° í•˜ë‚˜ë‹˜ê³¼ ê·¸ ì–´ë¦° ì–‘ì˜ ë³´ì¢Œê°€ ê·¸ ê°€ìš´ë° ìˆìœ¼ë¦¬ë‹ˆ ê·¸ì˜ ì¢…ë“¤ì´ ê·¸ë¥¼ ì„¬ê¸°ë©°","ê·¸ì˜ ì–¼êµ´ì„ ë³¼í„°ì´ìš” ê·¸ì˜ ì´ë¦„ë„ ì €í¬ ì´ë§ˆì— ìˆìœ¼ë¦¬ë¼","ë‹¤ì‹œ ë°¤ì´ ì—†ê² ê³  ë“±ë¶ˆê³¼ í–‡ë¹›ì´ ì“¸ë° ì—†ìœ¼ë‹ˆ ì´ëŠ” ì£¼ í•˜ë‚˜ë‹˜ì´ ì €í¬ì—ê²Œ ë¹„ì·¨ì‹¬ì´ë¼ ì €í¬ê°€ ì„¸ì„¸í† ë¡ ì™•ë…¸ë¦‡í•˜ë¦¬ë¡œë‹¤"]
        };
        
        let currentChapter = 1;
        let memorizedVerses = new Set();
        let memorizedTitles = new Set();
        let titleHidden = false;
        let showOnlyKey = false;
        
        // ì˜¤ë””ì˜¤ ê´€ë ¨ ë³€ìˆ˜
        const audioPlayer = document.getElementById('audioPlayer');
        let audioChapter = 1;
        let isPlaying = false;
        let isRepeat = false;
        let isShuffle = false;
        let isSectionRepeat = false;
        let sectionStart = 0;
        let sectionEnd = 0;
        let playlist = [];
        let playbackSpeed = 1.0;
        const speedOptions = [1.0, 1.25, 1.5, 1.75, 2.0];
        
        // ìŒì› íŒŒì¼ ê²½ë¡œ (ì‚¬ìš©ìê°€ ì„¤ì • ê°€ëŠ¥)
        let audioBasePath = '/mnt/user-data/uploads'; // ì—…ë¡œë“œëœ íŒŒì¼ ê²½ë¡œ
        let audioUrls = {}; // ê° ì¥ë³„ URL ì €ì¥
        
        function getAudioPath(chapter) {
            // ì‚¬ìš©ìê°€ ì„¤ì •í•œ URLì´ ìˆìœ¼ë©´ ì‚¬ìš©
            if (audioUrls[chapter]) {
                return audioUrls[chapter];
            }
            // ì—…ë¡œë“œëœ íŒŒì¼ ì‚¬ìš©
            if (audioBasePath) {
                return `${audioBasePath}/ìŒì•…_ì—†ëŠ”_ìš”í•œê³„ì‹œë¡_${chapter}ì¥.mp3`;
            }
            // í…ŒìŠ¤íŠ¸ìš© - ë¹ˆ ì˜¤ë””ì˜¤ (ë¬´ìŒ)
            return '';
        }
        
        // ìŒì› URL ì„¤ì • í•¨ìˆ˜
        function setAudioUrl(chapter, url) {
            audioUrls[chapter] = url;
            if (audioChapter === chapter) {
                loadAudio(chapter);
            }
        }
        
        // ê¸°ë³¸ ê²½ë¡œ ì„¤ì • í•¨ìˆ˜
        function setBasePath(path) {
            audioBasePath = path;
            loadAudio(audioChapter);
        }
        
        // ì˜¤ë””ì˜¤ ì´ˆê¸°í™”
        function initAudio() {
            loadAudio(audioChapter);
            updatePlaylist();
            
            // ì˜¤ë””ì˜¤ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
            audioPlayer.addEventListener('timeupdate', updateProgress);
            audioPlayer.addEventListener('ended', handleAudioEnded);
            audioPlayer.addEventListener('loadedmetadata', updateDuration);
            audioPlayer.addEventListener('error', handleAudioError);
            
            // í”„ë¡œê·¸ë ˆìŠ¤ ë°” ì¡°ì‘
            document.getElementById('progressSlider').addEventListener('input', function() {
                const time = (this.value / 100) * audioPlayer.duration;
                audioPlayer.currentTime = time;
            });
            
            // ë³¼ë¥¨ ì¡°ì ˆ
            document.getElementById('volumeSlider').addEventListener('input', function() {
                audioPlayer.volume = this.value / 100;
                document.getElementById('volumeDisplay').textContent = this.value + '%';
            });
            
            // íŒŒì¼ ì—…ë¡œë“œ ì´ë²¤íŠ¸
            document.getElementById('audioFileInput').addEventListener('change', handleFileUpload);
            
            // ì´ˆê¸° ë³¼ë¥¨ ì„¤ì •
            audioPlayer.volume = 0.7;
        }
        
        // íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬
        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (file) {
                const url = URL.createObjectURL(file);
                setAudioUrl(audioChapter, url);
                alert(`${audioChapter}ì¥ ìŒì›ì´ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤!`);
            }
        }
        
        // URL ì„¤ì • (í˜„ì¬ ì¥)
        function setUrlForCurrentChapter() {
            const url = document.getElementById('audioUrlInput').value.trim();
            if (url) {
                setAudioUrl(audioChapter, url);
                alert(`${audioChapter}ì¥ ìŒì›ì´ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤!`);
                document.getElementById('audioUrlInput').value = '';
            } else {
                alert('URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            }
        }
        
        // ê¸°ë³¸ ê²½ë¡œ ì„¤ì •
        function setBasePathFromInput() {
            const path = document.getElementById('basePathInput').value.trim();
            if (path) {
                setBasePath(path);
                alert('ê¸°ë³¸ ê²½ë¡œê°€ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤!\nëª¨ë“  ì¥ì˜ ìŒì› íŒŒì¼ì´ í•´ë‹¹ í´ë”ì— ìˆì–´ì•¼ í•©ë‹ˆë‹¤.');
                document.getElementById('basePathInput').value = '';
            } else {
                alert('ê²½ë¡œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            }
        }
        
        // ìŒì› ì„¤ì • íŒ¨ë„ í† ê¸€
        function toggleAudioSetup() {
            const setup = document.getElementById('audioSetup');
            if (setup.style.display === 'none') {
                setup.style.display = 'block';
            } else {
                setup.style.display = 'none';
            }
        }
        
        // ì˜¤ë””ì˜¤ ì—ëŸ¬ ì²˜ë¦¬
        function handleAudioError(e) {
            console.error('ì˜¤ë””ì˜¤ ë¡œë“œ ì˜¤ë¥˜:', e);
            if (!audioPlayer.src || audioPlayer.src === window.location.href) {
                // ìŒì›ì´ ì„¤ì •ë˜ì§€ ì•Šì€ ê²½ìš°
                const setup = document.getElementById('audioSetup');
                if (setup && setup.style.display === 'none') {
                    alert('ìŒì›ì´ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\nìƒë‹¨ì˜ "ğŸµ ìŒì›ì„¤ì •"ì„ í´ë¦­í•˜ì—¬ ìŒì›ì„ ì„¤ì •í•´ì£¼ì„¸ìš”.');
                    setup.style.display = 'block';
                }
            } else {
                // íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ëŠ” ê²½ìš°
                alert('ìŒì› íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\níŒŒì¼ ê²½ë¡œë‚˜ URLì„ í™•ì¸í•´ì£¼ì„¸ìš”.');
            }
        }
        
        // ì˜¤ë””ì˜¤ ë¡œë“œ
        function loadAudio(chapter) {
            audioChapter = chapter;
            audioPlayer.src = getAudioPath(chapter);
            audioPlayer.playbackRate = playbackSpeed; // ë°°ì† ìœ ì§€
            updateAudioDisplay();
            updatePlaylist();
        }
        
        // ì˜¤ë””ì˜¤ ë””ìŠ¤í”Œë ˆì´ ì—…ë°ì´íŠ¸
        function updateAudioDisplay() {
            document.getElementById('audioChapterDisplay').textContent = `ê³„ ${audioChapter}ì¥`;
            document.getElementById('audioTitleDisplay').textContent = chapterTitles[audioChapter] || '';
        }
        
        // ì¬ìƒ
        function playAudio() {
            if (!audioPlayer.src || audioPlayer.src === window.location.href) {
                const setup = document.getElementById('audioSetup');
                alert('ìŒì›ì´ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\n"ğŸµ ìŒì› ì„¤ì •"ì—ì„œ ìŒì›ì„ ì„¤ì •í•´ì£¼ì„¸ìš”.');
                if (setup) {
                    setup.style.display = 'block';
                }
                return;
            }
            
            audioPlayer.play().catch(err => {
                console.error('ì¬ìƒ ì˜¤ë¥˜:', err);
                alert('ìŒì›ì„ ì¬ìƒí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\níŒŒì¼ ê²½ë¡œë‚˜ URLì„ í™•ì¸í•´ì£¼ì„¸ìš”.');
            });
            isPlaying = true;
            document.getElementById('playBtn').classList.add('playing');
            document.getElementById('pauseBtn').classList.remove('playing');
        }
        
        // ì¼ì‹œì •ì§€
        function pauseAudio() {
            audioPlayer.pause();
            isPlaying = false;
            document.getElementById('playBtn').classList.remove('playing');
            document.getElementById('pauseBtn').classList.add('playing');
        }
        
        // ì •ì§€
        function stopAudio() {
            audioPlayer.pause();
            audioPlayer.currentTime = 0;
            isPlaying = false;
            document.getElementById('playBtn').classList.remove('playing');
            document.getElementById('pauseBtn').classList.remove('playing');
        }
        
        // ì´ì „ ì¥
        function previousChapter() {
            if (isShuffle) {
                // ëœë¤: 1-22ì¥ ì „ì²´
                audioChapter = Math.floor(Math.random() * 22) + 1;
            } else {
                // ìˆœì°¨: 1-22ì¥ ìˆœí™˜
                audioChapter = audioChapter > 1 ? audioChapter - 1 : 22;
            }
            loadAudio(audioChapter);
            if (isPlaying) playAudio();
        }
        
        // ë‹¤ìŒ ì¥
        function nextChapter() {
            if (isShuffle) {
                // ëœë¤: 1-22ì¥ ì „ì²´
                audioChapter = Math.floor(Math.random() * 22) + 1;
            } else {
                // ìˆœì°¨: 1-22ì¥ ìˆœí™˜
                audioChapter = audioChapter < 22 ? audioChapter + 1 : 1;
            }
            loadAudio(audioChapter);
            if (isPlaying) playAudio();
        }
        
        // ë°˜ë³µ í† ê¸€
        function toggleRepeat() {
            isRepeat = !isRepeat;
            const btn = document.getElementById('repeatBtn');
            if (isRepeat) {
                btn.classList.add('repeat-on');
                btn.textContent = 'ğŸ” ë°˜ë³µON';
            } else {
                btn.classList.remove('repeat-on');
                btn.textContent = 'ğŸ” ì „ì²´ë°˜ë³µ';
            }
        }
        
        // ëœë¤ í† ê¸€
        function toggleShuffle() {
            isShuffle = !isShuffle;
            const btn = document.getElementById('shuffleBtn');
            if (isShuffle) {
                btn.classList.add('repeat-on');
                btn.textContent = 'ğŸ”€ ëœë¤ON';
            } else {
                btn.classList.remove('repeat-on');
                btn.textContent = 'ğŸ”€ ëœë¤ì¬ìƒ';
            }
        }
        
        // êµ¬ê°„ ë°˜ë³µ í† ê¸€
        function toggleSectionRepeat() {
            isSectionRepeat = !isSectionRepeat;
            const btn = document.getElementById('sectionRepeatBtn');
            if (isSectionRepeat) {
                btn.classList.add('repeat-on');
                btn.textContent = 'ğŸ”‚ êµ¬ê°„ON';
                if (sectionStart === 0 && sectionEnd === 0) {
                    sectionStart = audioPlayer.currentTime;
                    sectionEnd = audioPlayer.duration;
                    alert(`êµ¬ê°„ ì„¤ì •: ${formatTime(sectionStart)} ~ ${formatTime(sectionEnd)}`);
                }
            } else {
                btn.classList.remove('repeat-on');
                btn.textContent = 'ğŸ”‚ êµ¬ê°„ë°˜ë³µ';
                sectionStart = 0;
                sectionEnd = 0;
            }
        }
        
        // ë°°ì† ë³€ê²½
        function changeSpeed() {
            const currentIndex = speedOptions.indexOf(playbackSpeed);
            const nextIndex = (currentIndex + 1) % speedOptions.length;
            playbackSpeed = speedOptions[nextIndex];
            audioPlayer.playbackRate = playbackSpeed;
            
            const btn = document.getElementById('speedBtn');
            btn.textContent = `âš¡ ${playbackSpeed}x`;
            
            // 1.0ë°°ì†ì´ ì•„ë‹ ë•Œ ë²„íŠ¼ ê°•ì¡°
            if (playbackSpeed !== 1.0) {
                btn.classList.add('repeat-on');
            } else {
                btn.classList.remove('repeat-on');
            }
        }
        
        // ì˜¤ë””ì˜¤ ì¢…ë£Œ ì²˜ë¦¬
        function handleAudioEnded() {
            if (isSectionRepeat && sectionStart > 0) {
                audioPlayer.currentTime = sectionStart;
                playAudio();
            } else if (isRepeat) {
                nextChapter(); // ë‹¤ìŒ ì¥ìœ¼ë¡œ (ìŒì› ìˆëŠ” ì¥ë§Œ)
            } else {
                stopAudio();
            }
        }
        
        // í”„ë¡œê·¸ë ˆìŠ¤ ì—…ë°ì´íŠ¸
        function updateProgress() {
            if (audioPlayer.duration) {
                const progress = (audioPlayer.currentTime / audioPlayer.duration) * 100;
                document.getElementById('progressSlider').value = progress;
                document.getElementById('currentTime').textContent = formatTime(audioPlayer.currentTime);
                
                // êµ¬ê°„ ë°˜ë³µ ì²´í¬
                if (isSectionRepeat && sectionEnd > 0 && audioPlayer.currentTime >= sectionEnd) {
                    audioPlayer.currentTime = sectionStart;
                }
            }
        }
        
        // ì¬ìƒ ì‹œê°„ ì—…ë°ì´íŠ¸
        function updateDuration() {
            document.getElementById('duration').textContent = formatTime(audioPlayer.duration);
        }
        
        // ì‹œê°„ í¬ë§·íŒ…
        function formatTime(seconds) {
            if (isNaN(seconds)) return '0:00';
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs.toString().padStart(2, '0')}`;
        }
        
        // í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
        function updatePlaylist() {
            const container = document.getElementById('playlistContainer');
            container.innerHTML = '';
            
            for (let i = 1; i <= 22; i++) {
                const item = document.createElement('div');
                item.className = 'playlist-item' + (i === audioChapter ? ' active' : '');
                
                // ëª¨ë“  ìŒì› ì œê³µë¨! (1-22ì¥)
                const audioAvailable = true;
                const statusIcon = 'ğŸµ';
                
                item.innerHTML = `${statusIcon} ${i}ì¥. ${chapterTitles[i]}`;
                
                item.onclick = () => {
                    loadAudio(i);
                    if (isPlaying) playAudio();
                };
                container.appendChild(item);
            }
        }
        
        // í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ì•„ì´í…œ í´ë¦­
        function playChapter(chapter) {
            loadAudio(chapter);
            playAudio();
        }
        
        // === ê¸°ì¡´ ì•”ì†¡ ë„êµ¬ í•¨ìˆ˜ë“¤ ===
        function renderVerses() {
            const container = document.getElementById('versesContainer');
            const verses = chapters[currentChapter] || [];
            const title = chapterTitles[currentChapter] || '';
            
            container.innerHTML = '';
            
            if (title) {
                const titleContainer = document.createElement('div');
                titleContainer.className = 'chapter-title-container';
                titleContainer.innerHTML = `
                    <div class="chapter-title ${titleHidden ? 'hidden' : ''}" id="chapterTitle" onclick="toggleTitleVisibility()">
                        ê³„ ${currentChapter}ì¥: ${title}
                    </div>
                    <div class="title-memorized">
                        <label>
                            <input type="checkbox" 
                                   ${memorizedTitles.has(currentChapter) ? 'checked' : ''}
                                   onchange="toggleTitleMemorized(${currentChapter})">
                            ì œëª© ì™¸ì› ì–´ìš”!
                        </label>
                    </div>
                `;
                container.appendChild(titleContainer);
            }
            
            verses.forEach((verse, index) => {
                const verseDiv = document.createElement('div');
                const verseNumber = index + 1;
                
                const isKeyVerse = (keyVerses[currentChapter] && keyVerses[currentChapter].includes(verseNumber)) ||
                                   (specialKeyVerses[currentChapter] && specialKeyVerses[currentChapter].includes(verseNumber));
                
                if (showOnlyKey && !isKeyVerse) {
                    return;
                }
                
                let verseClass = 'verse-container';
                
                if (isKeyVerse) {
                    verseClass += ' key-verse';
                }
                
                if (memorizedVerses.has(`${currentChapter}-${index}`)) {
                    verseClass += ' memorized';
                }
                
                verseDiv.className = verseClass;
                
                const words = verse.split(' ');
                const wordsHTML = words.map((word, wordIndex) => 
                    `<span class="word" data-verse="${index}" data-word="${wordIndex}">${word}</span>`
                ).join(' ');
                
                verseDiv.innerHTML = `
                    <div class="verse-header">
                        <span class="verse-number">${index + 1}ì ˆ</span>
                        <label class="memorize-check">
                            <input type="checkbox" 
                                   ${memorizedVerses.has(`${currentChapter}-${index}`) ? 'checked' : ''}
                                   onchange="toggleMemorized(${currentChapter}, ${index})">
                            <span>ì™¸ì› ì–´ìš”!</span>
                        </label>
                    </div>
                    <div class="verse-text">${wordsHTML}</div>
                `;
                
                container.appendChild(verseDiv);
            });
            
            document.querySelectorAll('.word').forEach(word => {
                word.addEventListener('click', function() {
                    this.classList.toggle('hidden');
                    updateStats();
                });
            });
            
            updateStats();
        }
        
        function toggleMemorized(chapter, verseIndex) {
            const key = `${chapter}-${verseIndex}`;
            if (memorizedVerses.has(key)) {
                memorizedVerses.delete(key);
            } else {
                memorizedVerses.add(key);
            }
            renderVerses();
        }
        
        function toggleTitleVisibility() {
            titleHidden = !titleHidden;
            const titleElement = document.getElementById('chapterTitle');
            if (titleElement) {
                titleElement.classList.toggle('hidden');
            }
        }
        
        function toggleTitleMemorized(chapter) {
            if (memorizedTitles.has(chapter)) {
                memorizedTitles.delete(chapter);
            } else {
                memorizedTitles.add(chapter);
            }
            updateStats();
        }
        
        function hideRandom() {
            const words = document.querySelectorAll('.word');
            words.forEach(word => {
                word.classList.remove('hidden');
            });
            
            const wordsArray = Array.from(words);
            const hideCount = Math.floor(wordsArray.length * 0.3);
            
            const shuffled = wordsArray.sort(() => 0.5 - Math.random());
            shuffled.slice(0, hideCount).forEach(word => {
                word.classList.add('hidden');
            });
            
            updateStats();
        }
        
        function showAll() {
            document.querySelectorAll('.word').forEach(word => {
                word.classList.remove('hidden');
            });
            updateStats();
        }
        
        function hideAll() {
            document.querySelectorAll('.word').forEach(word => {
                word.classList.add('hidden');
            });
            updateStats();
        }
        
        function resetProgress() {
            if (confirm('ëª¨ë“  ì•”ì†¡ ì§„ë„ë¥¼ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                memorizedVerses.clear();
                memorizedTitles.clear();
                titleHidden = false;
                renderVerses();
            }
        }
        
        function showOnlyKeyVerses() {
            showOnlyKey = true;
            renderVerses();
        }
        
        function showAllVerses() {
            showOnlyKey = false;
            renderVerses();
        }
        
        function updateStats() {
            const verses = chapters[currentChapter] || [];
            const hiddenWordsCount = document.querySelectorAll('.word.hidden').length;
            const memorizedCount = Array.from(memorizedVerses).filter(v => 
                v.startsWith(`${currentChapter}-`)
            ).length;
            
            const keyVersesInChapter = new Set();
            if (keyVerses[currentChapter]) {
                keyVerses[currentChapter].forEach(v => keyVersesInChapter.add(v));
            }
            if (specialKeyVerses[currentChapter]) {
                specialKeyVerses[currentChapter].forEach(v => keyVersesInChapter.add(v));
            }
            
            document.getElementById('totalVerses').textContent = verses.length;
            document.getElementById('keyVersesCount').textContent = keyVersesInChapter.size;
            document.getElementById('memorizedVerses').textContent = memorizedCount;
            document.getElementById('memorizedTitles').textContent = memorizedTitles.size;
            document.getElementById('hiddenWords').textContent = hiddenWordsCount;
            
            const progress = verses.length > 0 ? (memorizedCount / verses.length) * 100 : 0;
            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = progress + '%';
            progressBar.textContent = Math.round(progress) + '%';
        }
        
        // ì¥ ì„ íƒ ì´ë²¤íŠ¸
        document.getElementById('chapterSelect').addEventListener('change', function() {
            currentChapter = parseInt(this.value);
            titleHidden = false;
            showOnlyKey = false;
            renderVerses();
            
            // í…ìŠ¤íŠ¸ ì¥ì´ ë³€ê²½ë˜ë©´ ì˜¤ë””ì˜¤ë„ ê°™ì´ ë³€ê²½ (ì„ íƒì‚¬í•­)
            loadAudio(currentChapter);
        });
        
        // ì´ˆê¸°í™”
        window.onload = function() {
            initAudio();
            renderVerses();
            
            // ìŒì›ì´ ì„¤ì •ë˜ì–´ ìˆìœ¼ë©´ ì„¤ì • íŒ¨ë„ ìˆ¨ê¹€
            const setup = document.getElementById('audioSetup');
            if (setup && audioBasePath) {
                setup.style.display = 'none';
            } else if (setup && !audioBasePath && Object.keys(audioUrls).length === 0) {
                setup.style.display = 'block';
            }
        };
    </script>
</body>
</html>
